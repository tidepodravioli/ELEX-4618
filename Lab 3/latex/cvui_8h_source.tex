\doxysection{cvui.\+h}
\hypertarget{cvui_8h_source}{}\label{cvui_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ A\ (very)\ simple\ UI\ lib\ built\ on\ top\ of\ OpenCV\ drawing\ primitives.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ Version:\ 2.7.0}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ Usage:}}
\DoxyCodeLine{00006\ \textcolor{comment}{}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ One\ (and\ only\ one)\ of\ your\ C++\ files\ must\ define\ CVUI\_IMPLEMENTATION}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ before\ the\ inclusion\ of\ cvui.h\ to\ ensure\ its\ implementaiton\ is\ compiled.}}
\DoxyCodeLine{00009\ \textcolor{comment}{}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ E.g:}}
\DoxyCodeLine{00011\ \textcolor{comment}{}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \#define\ CVUI\_IMPLEMENTATION}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ \ \ \#include\ "{}cvui.h"{}}}
\DoxyCodeLine{00014\ \textcolor{comment}{}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ \ \ int\ main()\ \{}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ \ \ \}}}
\DoxyCodeLine{00017\ \textcolor{comment}{}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ All\ other\ files\ can\ include\ cvui.h\ without\ defining\ CVUI\_IMPLEMENTATION.}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ }}
\DoxyCodeLine{00020\ \textcolor{comment}{\ Use\ of\ cvui\ revolves\ around\ calling\ cvui::init()\ to\ initialize\ the\ lib,\ }}
\DoxyCodeLine{00021\ \textcolor{comment}{\ rendering\ cvui\ components\ to\ a\ cv::Mat\ (that\ you\ handle\ yourself)\ and}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ finally\ showing\ that\ cv::Mat\ on\ the\ screen\ using\ cvui::imshow(),\ which}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ is\ cvui's\ version\ of\ cv::imshow().\ Alternatively\ you\ can\ use\ cv::imshow()}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ to\ show\ things,\ but\ in\ such\ case\ you\ must\ call\ cvui::update()\ yourself}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ before\ calling\ cv::imshow().}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ }}
\DoxyCodeLine{00027\ \textcolor{comment}{\ E.g.:}}
\DoxyCodeLine{00028\ \textcolor{comment}{}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ \ \#include\ <opencv2/opencv.hpp>}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ \ \#define\ CVUI\_IMPLEMENTATION}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ \ \#include\ "{}cvui.h"{}}}
\DoxyCodeLine{00032\ \textcolor{comment}{}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ \#define\ WINDOW1\_NAME\ "{}Window\ 1"{}}}
\DoxyCodeLine{00034\ \textcolor{comment}{}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ \ \ int\ main()\ \{}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ \ \ \ \ cvui::init(WINDOW1\_NAME);}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ \ \ \ \ cv::Mat\ frame\ =\ cv::Mat(cv::Size(400,\ 200),\ CV\_8UC3);}}
\DoxyCodeLine{00038\ \textcolor{comment}{}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ \ \ while(true)\ \{}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ \ \ \ \ frame\ =\ cv::Scalar(49,\ 52,\ 49);}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ \ \ \ \ cvui::text(frame,\ x,\ y,\ "{}Hello\ world!"{});}}
\DoxyCodeLine{00042\ \textcolor{comment}{}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ \ \ \ \ \ cvui::imshow(WINDOW1\_NAME,\ frame);}}
\DoxyCodeLine{00044\ \textcolor{comment}{}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ \ \ \ \ \ if\ (cv::waitKey(20)\ ==\ 27)\ \{}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ \ \ \ return\ 0;}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00051\ \textcolor{comment}{}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ Read\ the\ full\ documentation\ at\ https://dovyski.github.io/cvui/}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ }}
\DoxyCodeLine{00054\ \textcolor{comment}{\ Copyright\ (c)\ 2016\ Fernando\ Bevilacqua\ <dovyski@gmail.com>}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ Licensed\ under\ the\ MIT\ license.}}
\DoxyCodeLine{00056\ \textcolor{comment}{*/}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#ifndef\ \_CVUI\_H\_}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#define\ \_CVUI\_H\_}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#include\ <stdarg.h>}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#include\ <opencv2/imgproc/imgproc.hpp>}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#include\ <opencv2/highgui/highgui.hpp>}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#include\ <opencv2/core/core.hpp>}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{namespace\ }cvui}
\DoxyCodeLine{00071\ \{}
\DoxyCodeLine{00088\ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theDelayWaitKey\ =\ -\/1,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindow\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\ theWindowNames[],\ \textcolor{keywordtype}{size\_t}\ theHowManyWindows,\ \textcolor{keywordtype}{int}\ theDelayWaitKey\ =\ -\/1,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindows\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00122\ \textcolor{keywordtype}{void}\ watch(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindow\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00183\ \textcolor{keywordtype}{void}\ context(\textcolor{keyword}{const}\ cv::String\&\ theWindowName);}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00202\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ cv::InputArray\ theFrame);}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00211\ \textcolor{keywordtype}{int}\ lastKeyPressed();}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00219\ cv::Point\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00248\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keywordtype}{int}\ theQuery);}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00262\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theQuery);}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00275\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keywordtype}{int}\ theButton,\ \textcolor{keywordtype}{int}\ theQuery);}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00286\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theButton,\ \textcolor{keywordtype}{int}\ theQuery);}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00298\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00312\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00331\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown);}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00344\ \textcolor{keywordtype}{void}\ image(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theImage);}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00358\ \textcolor{keywordtype}{bool}\ checkbox(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0xCECECE);}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00372\ \textcolor{keywordtype}{void}\ text(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale\ =\ 0.4,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0xCECECE);}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00391\ \textcolor{keywordtype}{void}\ printf(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...);}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00410\ \textcolor{keywordtype}{void}\ printf(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...);}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00424\ \textcolor{keywordtype}{int}\ counter(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep\ =\ 1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat\ =\ \textcolor{stringliteral}{"{}\%d"{}});}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00438\ \textcolor{keywordtype}{double}\ counter(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep\ =\ 0.5,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat\ =\ \textcolor{stringliteral}{"{}\%.2f"{}});}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00474\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00475\ \textcolor{keywordtype}{bool}\ trackbar(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ T\ *theValue,\ T\ theMin,\ T\ theMax,\ \textcolor{keywordtype}{int}\ theSegments\ =\ 1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theLabelFormat\ =\ \textcolor{stringliteral}{"{}\%.1Lf"{}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions\ =\ 0,\ T\ theDiscreteStep\ =\ 1);}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00489\ \textcolor{keywordtype}{void}\ window(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle);}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00504\ \textcolor{keywordtype}{void}\ rect(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor\ =\ 0xff000000);}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00519\ \textcolor{keywordtype}{void}\ sparkline(cv::Mat\&\ theWhere,\ std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0x00FF00);}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00542\ \textcolor{keywordtype}{int}\ iarea(\textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight);}
\DoxyCodeLine{00543\ }
\DoxyCodeLine{00605\ \textcolor{keywordtype}{void}\ beginRow(cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth\ =\ -\/1,\ \textcolor{keywordtype}{int}\ theHeight\ =\ -\/1,\ \textcolor{keywordtype}{int}\ thePadding\ =\ 0);}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00615\ \textcolor{keywordtype}{void}\ endRow();}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00678\ \textcolor{keywordtype}{void}\ beginColumn(cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth\ =\ -\/1,\ \textcolor{keywordtype}{int}\ theHeight\ =\ -\/1,\ \textcolor{keywordtype}{int}\ thePadding\ =\ 0);}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00688\ \textcolor{keywordtype}{void}\ endColumn();}
\DoxyCodeLine{00689\ }
\DoxyCodeLine{00705\ \textcolor{keywordtype}{void}\ beginRow(\textcolor{keywordtype}{int}\ theWidth\ =\ -\/1,\ \textcolor{keywordtype}{int}\ theHeight\ =\ -\/1,\ \textcolor{keywordtype}{int}\ thePadding\ =\ 0);}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00722\ \textcolor{keywordtype}{void}\ beginColumn(\textcolor{keywordtype}{int}\ theWidth\ =\ -\/1,\ \textcolor{keywordtype}{int}\ theHeight\ =\ -\/1,\ \textcolor{keywordtype}{int}\ thePadding\ =\ 0);}
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00739\ \textcolor{keywordtype}{void}\ space(\textcolor{keywordtype}{int}\ theValue\ =\ 5);}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00756\ \textcolor{keywordtype}{void}\ text(\textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale\ =\ 0.4,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0xCECECE);}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00775\ \textcolor{keywordtype}{bool}\ button(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{00776\ }
\DoxyCodeLine{00791\ \textcolor{keywordtype}{bool}\ button(\textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00815\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown);}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00831\ \textcolor{keywordtype}{void}\ image(cv::Mat\&\ theImage);}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00849\ \textcolor{keywordtype}{bool}\ checkbox(\textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0xCECECE);}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00873\ \textcolor{keywordtype}{void}\ printf(\textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...);}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00896\ \textcolor{keywordtype}{void}\ printf(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...);}
\DoxyCodeLine{00897\ }
\DoxyCodeLine{00915\ \textcolor{keywordtype}{int}\ counter(\textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep\ =\ 1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat\ =\ \textcolor{stringliteral}{"{}\%d"{}});}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00934\ \textcolor{keywordtype}{double}\ counter(\textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep\ =\ 0.5,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat\ =\ \textcolor{stringliteral}{"{}\%.2f"{}});}
\DoxyCodeLine{00935\ }
\DoxyCodeLine{00975\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{comment}{//\ T\ can\ be\ any\ float\ type\ (float,\ double,\ long\ double)}}
\DoxyCodeLine{00976\ \textcolor{keywordtype}{bool}\ trackbar(\textcolor{keywordtype}{int}\ theWidth,\ T\ *theValue,\ T\ theMin,\ T\ theMax,\ \textcolor{keywordtype}{int}\ theSegments\ =\ 1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theLabelFormat\ =\ \textcolor{stringliteral}{"{}\%.1Lf"{}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions\ =\ 0,\ T\ theDiscreteStep\ =\ 1);}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00993\ \textcolor{keywordtype}{void}\ window(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle);}
\DoxyCodeLine{00994\ }
\DoxyCodeLine{01011\ \textcolor{keywordtype}{void}\ rect(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor\ =\ 0xff000000);}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01028\ \textcolor{keywordtype}{void}\ sparkline(std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor\ =\ 0x00FF00);}
\DoxyCodeLine{01029\ }
\DoxyCodeLine{01040\ \textcolor{keywordtype}{void}\ update(\textcolor{keyword}{const}\ cv::String\&\ theWindowName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01041\ }
\DoxyCodeLine{01042\ \textcolor{comment}{//\ Internally\ used\ to\ handle\ mouse\ events}}
\DoxyCodeLine{01043\ \textcolor{keywordtype}{void}\ handleMouse(\textcolor{keywordtype}{int}\ theEvent,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theFlags,\ \textcolor{keywordtype}{void}*\ theData);}
\DoxyCodeLine{01044\ }
\DoxyCodeLine{01045\ \textcolor{comment}{//\ Compatibility\ macros\ to\ allow\ compilation\ with\ either\ OpenCV\ 2.x\ or\ OpenCV\ 3.x}}
\DoxyCodeLine{01046\ \textcolor{preprocessor}{\#if\ (CV\_MAJOR\_VERSION\ <\ 3)}}
\DoxyCodeLine{01047\ \textcolor{preprocessor}{\ \ \ \ \#define\ CVUI\_ANTIALISED\ CV\_AA}}
\DoxyCodeLine{01048\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01049\ \textcolor{preprocessor}{\ \ \ \ \#define\ CVUI\_ANTIALISED\ cv::LINE\_AA}}
\DoxyCodeLine{01050\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01051\ \textcolor{preprocessor}{\#define\ CVUI\_FILLED\ -\/1}}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \textcolor{comment}{//\ If\ we\ are\ not\ in\ a\ Windows-\/based\ environment,\ replace\ Windows-\/specific\ functions\ with}}
\DoxyCodeLine{01054\ \textcolor{comment}{//\ their\ POSIX\ equivalents.}}
\DoxyCodeLine{01055\ \textcolor{preprocessor}{\#if\ !defined(\_MSC\_VER)}}
\DoxyCodeLine{01056\ \textcolor{preprocessor}{\ \ \ \ \#define\ vsprintf\_s\ vsprintf}}
\DoxyCodeLine{01057\ \textcolor{preprocessor}{\ \ \ \ \#define\ sprintf\_s\ sprintf}}
\DoxyCodeLine{01058\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01059\ }
\DoxyCodeLine{01060\ \textcolor{comment}{//\ Adjust\ things\ accoridng\ to\ platform}}
\DoxyCodeLine{01061\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{01062\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_CVUI\_COMPILE\_MESSAGE(x)\ message(x)}}
\DoxyCodeLine{01063\ }
\DoxyCodeLine{01064\ \ \ \ \ \textcolor{comment}{//\ If\ windows.h\ has\ already\ been\ included,\ min()\ and\ max()\ will\ be\ defined.}}
\DoxyCodeLine{01065\ \ \ \ \ \textcolor{comment}{//\ In\ such\ case,\ a\ shit\ storm\ will\ rain\ on\ us,\ producing\ all\ kinds\ of}}
\DoxyCodeLine{01066\ \ \ \ \ \textcolor{comment}{//\ compilation\ problems\ with\ cvui.\ If\ min/max\ are\ already\ defined,}}
\DoxyCodeLine{01067\ \ \ \ \ \textcolor{comment}{//\ let's\ undef\ them\ for\ now\ and\ redef\ them\ at\ the\ end\ of\ this\ file.}}
\DoxyCodeLine{01068\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ min}}
\DoxyCodeLine{01069\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ \_\_cvui\_min\ min}}
\DoxyCodeLine{01070\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ min}}
\DoxyCodeLine{01071\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{01072\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ max}}
\DoxyCodeLine{01073\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ \_\_cvui\_max\ max}}
\DoxyCodeLine{01074\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#undef\ max}}
\DoxyCodeLine{01075\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{01076\ \textcolor{preprocessor}{\#elif\ \_\_GNUC\_\_}}
\DoxyCodeLine{01077\ \textcolor{preprocessor}{\ \ \ \ \#define\ \_CVUI\_COMPILE\_MESSAGE(x)\ message\ x}}
\DoxyCodeLine{01078\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01079\ }
\DoxyCodeLine{01080\ \textcolor{comment}{//\ Some\ compilation\ messages}}
\DoxyCodeLine{01081\ \textcolor{preprocessor}{\#define\ \_CVUI\_IMPLEMENTATION\_NOTICE\ "{}cvui.h:\ compiling\ implementation\ because\ of\ CVUI\_IMPLEMENTATION.\ See:\ https://dovyski.github.io/cvui/usage/"{}}}
\DoxyCodeLine{01082\ \textcolor{preprocessor}{\#define\ \_CVUI\_NO\_IMPLEMENTATION\_NOTICE\ "{}cvui.h:\ implementation\ skipped.\ Ensure\ one\ of\ your\ C++\ files\ included\ cvui.h\ after\ a\ \#define\ CVUI\_IMPLEMENTATION.\ See:\ https://dovyski.github.io/cvui/usage/"{}}}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \textcolor{comment}{//\ Below\ is\ paranoic,\ dramatic\ bug-\/fixing\ action\ to\ ensure\ no\ evil\ macro}}
\DoxyCodeLine{01085\ \textcolor{comment}{//\ have\ already\ defined\ our\ names.\ For\ some\ bizarre\ reason,\ cvui\ did\ not}}
\DoxyCodeLine{01086\ \textcolor{comment}{//\ compile\ in\ one\ of\ my\ projects\ because\ OUT\ was\ already\ defined.\ So\ be\ it.}}
\DoxyCodeLine{01087\ \textcolor{preprocessor}{\#undef\ VERSION}}
\DoxyCodeLine{01088\ \textcolor{preprocessor}{\#undef\ ROW}}
\DoxyCodeLine{01089\ \textcolor{preprocessor}{\#undef\ COLUMN}}
\DoxyCodeLine{01090\ \textcolor{preprocessor}{\#undef\ DOWN}}
\DoxyCodeLine{01091\ \textcolor{preprocessor}{\#undef\ CLICK}}
\DoxyCodeLine{01092\ \textcolor{preprocessor}{\#undef\ OVER}}
\DoxyCodeLine{01093\ \textcolor{preprocessor}{\#undef\ OUT}}
\DoxyCodeLine{01094\ \textcolor{preprocessor}{\#undef\ UP}}
\DoxyCodeLine{01095\ \textcolor{preprocessor}{\#undef\ IS\_DOWN}}
\DoxyCodeLine{01096\ \textcolor{preprocessor}{\#undef\ LEFT\_BUTTON}}
\DoxyCodeLine{01097\ \textcolor{preprocessor}{\#undef\ MIDDLE\_BUTTON}}
\DoxyCodeLine{01098\ \textcolor{preprocessor}{\#undef\ RIGHT\_BUTTON}}
\DoxyCodeLine{01099\ }
\DoxyCodeLine{01100\ \textcolor{comment}{//\ Check\ for\ Unix\ stuff}}
\DoxyCodeLine{01101\ \textcolor{preprocessor}{\#ifdef\ \_\_GNUC\_\_}}
\DoxyCodeLine{01102\ \ \ \ \ \textcolor{comment}{//\ just\ to\ remove\ the\ warning\ under\ gcc\ that\ is\ introduced\ by\ the\ VERSION\ variable\ below}}
\DoxyCodeLine{01103\ \ \ \ \ \textcolor{comment}{//\ (needed\ for\ those\ who\ compile\ with\ -\/Werror\ (make\ warning\ as\ errors)}}
\DoxyCodeLine{01104\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wunused-\/variable"{}}}
\DoxyCodeLine{01105\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \textcolor{comment}{//\ Lib\ version}}
\DoxyCodeLine{01108\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *VERSION\ =\ \textcolor{stringliteral}{"{}2.7.0"{}};}
\DoxyCodeLine{01109\ }
\DoxyCodeLine{01110\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ ROW\ =\ 0;}
\DoxyCodeLine{01111\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ COLUMN\ =\ 1;}
\DoxyCodeLine{01112\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ DOWN\ =\ 2;}
\DoxyCodeLine{01113\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ CLICK\ =\ 3;}
\DoxyCodeLine{01114\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ OVER\ =\ 4;}
\DoxyCodeLine{01115\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ OUT\ =\ 5;}
\DoxyCodeLine{01116\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ UP\ =\ 6;}
\DoxyCodeLine{01117\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ IS\_DOWN\ =\ 7;}
\DoxyCodeLine{01118\ }
\DoxyCodeLine{01119\ \textcolor{comment}{//\ Constants\ regarding\ mouse\ buttons}}
\DoxyCodeLine{01120\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ LEFT\_BUTTON\ =\ 0;}
\DoxyCodeLine{01121\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ MIDDLE\_BUTTON\ =\ 1;}
\DoxyCodeLine{01122\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ RIGHT\_BUTTON\ =\ 2;}
\DoxyCodeLine{01123\ }
\DoxyCodeLine{01124\ \textcolor{comment}{//\ Constants\ regarding\ components}}
\DoxyCodeLine{01125\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_HIDE\_SEGMENT\_LABELS\ =\ 1;}
\DoxyCodeLine{01126\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_HIDE\_STEP\_SCALE\ =\ 2;}
\DoxyCodeLine{01127\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_DISCRETE\ =\ 4;}
\DoxyCodeLine{01128\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_HIDE\_MIN\_MAX\_LABELS\ =\ 8;}
\DoxyCodeLine{01129\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_HIDE\_VALUE\_LABEL\ =\ 16;}
\DoxyCodeLine{01130\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ TRACKBAR\_HIDE\_LABELS\ =\ 32;}
\DoxyCodeLine{01131\ }
\DoxyCodeLine{01132\ \textcolor{comment}{//\ Describes\ the\ block\ structure\ used\ by\ the\ lib\ to\ handle\ \`{}begin*()`\ and\ \`{}end*()`\ calls.}}
\DoxyCodeLine{01133\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{01134\ \ \ \ \ cv::Mat\ where;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ where\ the\ block\ should\ be\ rendered\ to.}}
\DoxyCodeLine{01135\ \ \ \ \ cv::Rect\ rect;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ size\ and\ position\ of\ the\ block.}}
\DoxyCodeLine{01136\ \ \ \ \ cv::Rect\ fill;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ filled\ area\ occuppied\ by\ the\ block\ as\ it\ gets\ modified\ by\ its\ inner\ components.}}
\DoxyCodeLine{01137\ \ \ \ \ cv::Point\ anchor;\ \ \ \ \ \ \ \textcolor{comment}{//\ the\ point\ where\ the\ next\ component\ of\ the\ block\ should\ be\ rendered.}}
\DoxyCodeLine{01138\ \ \ \ \ \textcolor{keywordtype}{int}\ padding;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ padding\ among\ components\ within\ this\ block.}}
\DoxyCodeLine{01139\ \ \ \ \ \textcolor{keywordtype}{int}\ type;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ type\ of\ the\ block,\ e.g.\ ROW\ or\ COLUMN.}}
\DoxyCodeLine{01140\ \}\ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}};}
\DoxyCodeLine{01141\ }
\DoxyCodeLine{01142\ \textcolor{comment}{//\ Describes\ a\ component\ label,\ including\ info\ about\ a\ shortcut.}}
\DoxyCodeLine{01143\ \textcolor{comment}{//\ If\ a\ label\ contains\ "{}Re\&start"{},\ then:}}
\DoxyCodeLine{01144\ \textcolor{comment}{//\ -\/\ hasShortcut\ will\ be\ true}}
\DoxyCodeLine{01145\ \textcolor{comment}{//\ -\/\ shortcut\ will\ be\ 's'}}
\DoxyCodeLine{01146\ \textcolor{comment}{//\ -\/\ textBeforeShortcut\ will\ be\ "{}Re"{}}}
\DoxyCodeLine{01147\ \textcolor{comment}{//\ -\/\ textAfterShortcut\ will\ be\ "{}tart"{}}}
\DoxyCodeLine{01148\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{01149\ \ \ \ \ \textcolor{keywordtype}{bool}\ hasShortcut;}
\DoxyCodeLine{01150\ \ \ \ \ \textcolor{keywordtype}{char}\ shortcut;}
\DoxyCodeLine{01151\ \ \ \ \ std::string\ textBeforeShortcut;}
\DoxyCodeLine{01152\ \ \ \ \ std::string\ textAfterShortcut;}
\DoxyCodeLine{01153\ \}\ \mbox{\hyperlink{structcvui_1_1cvui__label__t}{cvui\_label\_t}};}
\DoxyCodeLine{01154\ }
\DoxyCodeLine{01155\ \textcolor{comment}{//\ Describe\ a\ mouse\ button}}
\DoxyCodeLine{01156\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{01157\ \ \ \ \ \textcolor{keywordtype}{bool}\ justReleased;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ mouse\ button\ was\ released,\ i.e.\ click\ event.}}
\DoxyCodeLine{01158\ \ \ \ \ \textcolor{keywordtype}{bool}\ justPressed;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ mouse\ button\ was\ just\ pressed,\ i.e.\ true\ for\ a\ frame\ when\ a\ button\ is\ down.}}
\DoxyCodeLine{01159\ \ \ \ \ \textcolor{keywordtype}{bool}\ pressed;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ mouse\ button\ is\ pressed\ or\ not.}}
\DoxyCodeLine{01160\ \}\ \mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}};}
\DoxyCodeLine{01161\ }
\DoxyCodeLine{01162\ \textcolor{comment}{//\ Describe\ the\ information\ of\ the\ mouse\ cursor}}
\DoxyCodeLine{01163\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{01164\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\ buttons[3];\ \textcolor{comment}{//\ status\ of\ each\ button.\ Use\ cvui::\{RIGHT,LEFT,MIDDLE\}\_BUTTON\ to\ access\ the\ buttons.}}
\DoxyCodeLine{01165\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\ anyButton;\ \ \textcolor{comment}{//\ represent\ the\ behavior\ of\ all\ mouse\ buttons\ combined}}
\DoxyCodeLine{01166\ \ \ \ \ cv::Point\ position;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ x\ and\ y\ coordinates\ of\ the\ mouse\ at\ the\ moment.}}
\DoxyCodeLine{01167\ \}\ \mbox{\hyperlink{structcvui_1_1cvui__mouse__t}{cvui\_mouse\_t}};}
\DoxyCodeLine{01168\ }
\DoxyCodeLine{01169\ \textcolor{comment}{//\ Describes\ a\ (window)\ context.}}
\DoxyCodeLine{01170\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{01171\ \ \ \ \ cv::String\ windowName;\ \ \ \ \ \ \ \textcolor{comment}{//\ name\ of\ the\ window\ related\ to\ this\ context.}}
\DoxyCodeLine{01172\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__mouse__t}{cvui\_mouse\_t}}\ mouse;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ mouse\ cursor\ related\ to\ this\ context.}}
\DoxyCodeLine{01173\ \}\ \mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}};}
\DoxyCodeLine{01174\ }
\DoxyCodeLine{01175\ \textcolor{comment}{//\ Internal\ namespace\ with\ all\ code\ that\ is\ shared\ among\ components/functions.}}
\DoxyCodeLine{01176\ \textcolor{comment}{//\ You\ should\ probably\ not\ be\ using\ anything\ from\ here.}}
\DoxyCodeLine{01177\ \textcolor{keyword}{namespace\ }internal}
\DoxyCodeLine{01178\ \{}
\DoxyCodeLine{01179\ \ \ \ \ \textcolor{keyword}{static}\ cv::String\ gDefaultContext;}
\DoxyCodeLine{01180\ \ \ \ \ \textcolor{keyword}{static}\ cv::String\ gCurrentContext;}
\DoxyCodeLine{01181\ \ \ \ \ \textcolor{keyword}{static}\ std::map<cv::String,\ cvui\_context\_t>\ gContexts;\ \textcolor{comment}{//\ indexed\ by\ the\ window\ name.}}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{char}\ gBuffer[1024];}
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ gLastKeyPressed;\ \textcolor{comment}{//\ TODO:\ collect\ it\ per\ window}}
\DoxyCodeLine{01184\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ gDelayWaitKey;}
\DoxyCodeLine{01185\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\ gScreen;}
\DoxyCodeLine{01186\ }
\DoxyCodeLine{01187\ \ \ \ \ \textcolor{keyword}{struct\ }TrackbarParams\ \{}
\DoxyCodeLine{01188\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ min;}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ max;}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ step;}
\DoxyCodeLine{01191\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ segments;}
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ options;}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ std::string\ labelFormat;}
\DoxyCodeLine{01194\ }
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ TrackbarParams()}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \ \ :\ min(0.)}
\DoxyCodeLine{01197\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ max(25.)}
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ step(1.)}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ segments(0)}
\DoxyCodeLine{01200\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ options(0)}
\DoxyCodeLine{01201\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ labelFormat(\textcolor{stringliteral}{"{}\%.0Lf"{}})}
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{01203\ \ \ \ \ \};}
\DoxyCodeLine{01204\ }
\DoxyCodeLine{01205\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\ gStack[100];\ \textcolor{comment}{//\ TODO:\ make\ it\ dynamic?}}
\DoxyCodeLine{01206\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ gStackCount\ =\ -\/1;}
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ gTrackbarMarginX\ =\ 14;}
\DoxyCodeLine{01208\ }
\DoxyCodeLine{01209\ \ \ \ \ \textcolor{keywordtype}{bool}\ isMouseButton(\mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\&\ theButton,\ \textcolor{keywordtype}{int}\ theQuery);}
\DoxyCodeLine{01210\ \ \ \ \ \textcolor{keywordtype}{void}\ resetMouseButton(\mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\&\ theButton);}
\DoxyCodeLine{01211\ \ \ \ \ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theDelayWaitKey);}
\DoxyCodeLine{01212\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}}\&\ getContext(\textcolor{keyword}{const}\ cv::String\&\ theWindowName\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01213\ \ \ \ \ \textcolor{keywordtype}{bool}\ bitsetHas(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBitset,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theValue);}
\DoxyCodeLine{01214\ \ \ \ \ \textcolor{keywordtype}{void}\ error(\textcolor{keywordtype}{int}\ theId,\ std::string\ theMessage);}
\DoxyCodeLine{01215\ \ \ \ \ \textcolor{keywordtype}{void}\ updateLayoutFlow(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ cv::Size\ theSize);}
\DoxyCodeLine{01216\ \ \ \ \ \textcolor{keywordtype}{bool}\ blockStackEmpty();}
\DoxyCodeLine{01217\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ topBlock();}
\DoxyCodeLine{01218\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ pushBlock();}
\DoxyCodeLine{01219\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ popBlock();}
\DoxyCodeLine{01220\ \ \ \ \ \textcolor{keywordtype}{void}\ begin(\textcolor{keywordtype}{int}\ theType,\ cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding);}
\DoxyCodeLine{01221\ \ \ \ \ \textcolor{keywordtype}{void}\ end(\textcolor{keywordtype}{int}\ theType);}
\DoxyCodeLine{01222\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__label__t}{cvui\_label\_t}}\ createLabel(\textcolor{keyword}{const}\ std::string\ \&theLabel);}
\DoxyCodeLine{01223\ \ \ \ \ \textcolor{keywordtype}{int}\ iarea(\textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight);}
\DoxyCodeLine{01224\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ theUpdateLayout);}
\DoxyCodeLine{01225\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{01226\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown,\ \textcolor{keywordtype}{bool}\ theUpdateLayout);}
\DoxyCodeLine{01227\ \ \ \ \ \textcolor{keywordtype}{void}\ image(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theImage);}
\DoxyCodeLine{01228\ \ \ \ \ \textcolor{keywordtype}{bool}\ checkbox(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01229\ \ \ \ \ \textcolor{keywordtype}{void}\ text(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keywordtype}{bool}\ theUpdateLayout);}
\DoxyCodeLine{01230\ \ \ \ \ \textcolor{keywordtype}{int}\ counter(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat);}
\DoxyCodeLine{01231\ \ \ \ \ \textcolor{keywordtype}{double}\ counter(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat);}
\DoxyCodeLine{01232\ \ \ \ \ \textcolor{keywordtype}{void}\ window(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle);}
\DoxyCodeLine{01233\ \ \ \ \ \textcolor{keywordtype}{void}\ rect(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor);}
\DoxyCodeLine{01234\ \ \ \ \ \textcolor{keywordtype}{void}\ sparkline(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theBlock,\ std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01235\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\ \&theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\&\ theParams);}
\DoxyCodeLine{01236\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ trackbarForceValuesAsMultiplesOfSmallStep(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ *theValue);}
\DoxyCodeLine{01237\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ trackbarXPixelToValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ cv::Rect\ \&\ theBounding,\ \textcolor{keywordtype}{int}\ thePixelX);}
\DoxyCodeLine{01238\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ trackbarValueToXPixel(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ cv::Rect\ \&\ theBounding,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ theValue);}
\DoxyCodeLine{01239\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ clamp01(\textcolor{keywordtype}{double}\ value);}
\DoxyCodeLine{01240\ \ \ \ \ \textcolor{keywordtype}{void}\ findMinMax(std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{double}\ *theMin,\ \textcolor{keywordtype}{double}\ *theMax);}
\DoxyCodeLine{01241\ \ \ \ \ cv::Scalar\ hexToScalar(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01242\ \ \ \ \ \textcolor{keywordtype}{void}\ resetRenderingBuffer(\mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ theScreen);}
\DoxyCodeLine{01243\ }
\DoxyCodeLine{01244\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{comment}{//\ T\ can\ be\ any\ floating\ point\ type\ (float,\ double,\ long\ double)}}
\DoxyCodeLine{01245\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ makeTrackbarParams(T\ min,\ T\ max,\ \textcolor{keywordtype}{int}\ theDecimals\ =\ 1,\ \textcolor{keywordtype}{int}\ theSegments\ =\ 1,\ T\ theStep\ =\ -\/1.,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions\ =\ 0,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat\ =\ \textcolor{stringliteral}{"{}\%.1Lf"{}});}
\DoxyCodeLine{01246\ }
\DoxyCodeLine{01247\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{01248\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(T\ *theValue,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\&\ theParams);}
\DoxyCodeLine{01249\ }
\DoxyCodeLine{01250\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{comment}{//\ T\ can\ be\ any\ numeric\ type\ (int,\ double,\ unsigned\ int,\ etc)}}
\DoxyCodeLine{01251\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ T\ *theValue,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\&\ theParams);}
\DoxyCodeLine{01252\ }
\DoxyCodeLine{01253\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ num\_type>}
\DoxyCodeLine{01254\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ makeTrackbarParams(num\_type\ theMin,\ num\_type\ theMax,\ num\_type\ theStep,\ \textcolor{keywordtype}{int}\ theSegments,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theLabelFormat,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions)\ \{}
\DoxyCodeLine{01255\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ aParams;}
\DoxyCodeLine{01256\ }
\DoxyCodeLine{01257\ \ \ \ \ \ \ \ \ aParams.min\ =\ (\textcolor{keywordtype}{long}\ double)theMin;}
\DoxyCodeLine{01258\ \ \ \ \ \ \ \ \ aParams.max\ =\ (\textcolor{keywordtype}{long}\ double)theMax;}
\DoxyCodeLine{01259\ \ \ \ \ \ \ \ \ aParams.step\ =\ (\textcolor{keywordtype}{long}\ double)theStep;}
\DoxyCodeLine{01260\ \ \ \ \ \ \ \ \ aParams.options\ =\ theOptions;}
\DoxyCodeLine{01261\ \ \ \ \ \ \ \ \ aParams.segments\ =\ theSegments;}
\DoxyCodeLine{01262\ \ \ \ \ \ \ \ \ aParams.labelFormat\ =\ theLabelFormat;}
\DoxyCodeLine{01263\ \ \ \ \ }
\DoxyCodeLine{01264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aParams;}
\DoxyCodeLine{01265\ \ \ \ \ \}}
\DoxyCodeLine{01266\ }
\DoxyCodeLine{01267\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ num\_type>}
\DoxyCodeLine{01268\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(\textcolor{keywordtype}{int}\ theWidth,\ num\_type\ *theValue,\ \textcolor{keyword}{const}\ TrackbarParams\&\ theParams)\ \{}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{01270\ }
\DoxyCodeLine{01271\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aValueAsDouble\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\textcolor{keyword}{>}(*theValue);}
\DoxyCodeLine{01272\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aResult\ =\ internal::trackbar(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ \&aValueAsDouble,\ theParams);}
\DoxyCodeLine{01273\ \ \ \ \ \ \ \ \ *theValue\ =\ \textcolor{keyword}{static\_cast<}num\_type\textcolor{keyword}{>}(aValueAsDouble);}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aResult;}
\DoxyCodeLine{01276\ \ \ \ \ \}}
\DoxyCodeLine{01277\ }
\DoxyCodeLine{01278\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ num\_type>}
\DoxyCodeLine{01279\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ num\_type\ *theValue,\ \textcolor{keyword}{const}\ TrackbarParams\&\ theParams)\ \{}
\DoxyCodeLine{01280\ \ \ \ \ \ \ \ \ gScreen.where\ =\ theWhere;}
\DoxyCodeLine{01281\ }
\DoxyCodeLine{01282\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aValueAsDouble\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\textcolor{keyword}{>}(*theValue);}
\DoxyCodeLine{01283\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aResult\ =\ internal::trackbar(gScreen,\ theX,\ theY,\ theWidth,\ \&aValueAsDouble,\ theParams);}
\DoxyCodeLine{01284\ \ \ \ \ \ \ \ \ *theValue\ =\ \textcolor{keyword}{static\_cast<}num\_type\textcolor{keyword}{>}(aValueAsDouble);}
\DoxyCodeLine{01285\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aResult;}
\DoxyCodeLine{01287\ \ \ \ \ \}}
\DoxyCodeLine{01288\ \}}
\DoxyCodeLine{01289\ }
\DoxyCodeLine{01290\ \textcolor{comment}{//\ Internal\ namespace\ that\ contains\ all\ rendering\ functions.}}
\DoxyCodeLine{01291\ \textcolor{keyword}{namespace\ }render\ \{}
\DoxyCodeLine{01292\ \ \ \ \ \textcolor{keywordtype}{void}\ text(cvui\_block\_t\&\ theBlock,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ cv::Point\&\ thePos,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01293\ \ \ \ \ \textcolor{keywordtype}{void}\ button(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel);}
\DoxyCodeLine{01294\ \ \ \ \ \textcolor{keywordtype}{void}\ buttonLabel(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\ theRect,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ cv::Size\&\ theTextSize);}
\DoxyCodeLine{01295\ \ \ \ \ \textcolor{keywordtype}{void}\ image(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theRect,\ cv::Mat\&\ theImage);}
\DoxyCodeLine{01296\ \ \ \ \ \textcolor{keywordtype}{void}\ counter(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ cv::String\&\ theValue);}
\DoxyCodeLine{01297\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarHandle(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea);}
\DoxyCodeLine{01298\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarPath(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea);}
\DoxyCodeLine{01299\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSteps(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea);}
\DoxyCodeLine{01300\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSegmentLabel(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ theValue,\ cv::Rect\&\ theWorkingArea,\ \textcolor{keywordtype}{bool}\ theShowLabel);}
\DoxyCodeLine{01301\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSegments(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea);}
\DoxyCodeLine{01302\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbar(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams);}
\DoxyCodeLine{01303\ \ \ \ \ \textcolor{keywordtype}{void}\ checkbox(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape);}
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keywordtype}{void}\ checkboxLabel(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theRect,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ cv::Size\&\ theTextSize,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01305\ \ \ \ \ \textcolor{keywordtype}{void}\ checkboxCheck(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape);}
\DoxyCodeLine{01306\ \ \ \ \ \textcolor{keywordtype}{void}\ window(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theTitleBar,\ cv::Rect\&\ theContent,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle);}
\DoxyCodeLine{01307\ \ \ \ \ \textcolor{keywordtype}{void}\ rect(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ thePos,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor);}
\DoxyCodeLine{01308\ \ \ \ \ \textcolor{keywordtype}{void}\ sparkline(cvui\_block\_t\&\ theBlock,\ std::vector<double>\&\ theValues,\ cv::Rect\ \&theRect,\ \textcolor{keywordtype}{double}\ theMin,\ \textcolor{keywordtype}{double}\ theMax,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor);}
\DoxyCodeLine{01309\ }
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keywordtype}{int}\ putText(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Scalar\ aColor,\ \textcolor{keyword}{const}\ std::string\&\ theText,\ \textcolor{keyword}{const}\ cv::Point\ \&\ thePosition);}
\DoxyCodeLine{01311\ \ \ \ \ \textcolor{keywordtype}{int}\ putTextCentered(cvui\_block\_t\&\ theBlock,\ \textcolor{keyword}{const}\ cv::Point\ \&\ position,\ \textcolor{keyword}{const}\ std::string\ \&text);}
\DoxyCodeLine{01312\ \}}
\DoxyCodeLine{01313\ }
\DoxyCodeLine{01314\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ num\_type>}
\DoxyCodeLine{01315\ \textcolor{keywordtype}{bool}\ trackbar(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ num\_type\ *theValue,\ num\_type\ theMin,\ num\_type\ theMax,\ \textcolor{keywordtype}{int}\ theSegments,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theLabelFormat,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions,\ num\_type\ theDiscreteStep)\ \{}
\DoxyCodeLine{01316\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{internal::TrackbarParams}}\ aParams\ =\ internal::makeTrackbarParams(theMin,\ theMax,\ theDiscreteStep,\ theSegments,\ theLabelFormat,\ theOptions);}
\DoxyCodeLine{01317\ \ \ \ \ \textcolor{keywordflow}{return}\ trackbar<num\_type>(theWhere,\ theX,\ theY,\ theWidth,\ theValue,\ aParams);}
\DoxyCodeLine{01318\ \}}
\DoxyCodeLine{01319\ }
\DoxyCodeLine{01320\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ num\_type>}
\DoxyCodeLine{01321\ \textcolor{keywordtype}{bool}\ trackbar(\textcolor{keywordtype}{int}\ theWidth,\ num\_type\ *theValue,\ num\_type\ theMin,\ num\_type\ theMax,\ \textcolor{keywordtype}{int}\ theSegments,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theLabelFormat,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theOptions,\ num\_type\ theDiscreteStep)\ \{}
\DoxyCodeLine{01322\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{internal::TrackbarParams}}\ aParams\ =\ internal::makeTrackbarParams(theMin,\ theMax,\ theDiscreteStep,\ theSegments,\ theLabelFormat,\ theOptions);}
\DoxyCodeLine{01323\ \ \ \ \ \textcolor{keywordflow}{return}\ trackbar<num\_type>(theWidth,\ theValue,\ aParams);}
\DoxyCodeLine{01324\ \}}
\DoxyCodeLine{01325\ }
\DoxyCodeLine{01326\ \}\ \textcolor{comment}{//\ namespace\ cvui}}
\DoxyCodeLine{01327\ }
\DoxyCodeLine{01328\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_CVUI\_H\_}}
\DoxyCodeLine{01329\ }
\DoxyCodeLine{01330\ \textcolor{comment}{//\ Below\ this\ line\ is\ the\ implementation\ of\ all\ functions\ declared\ above.}}
\DoxyCodeLine{01331\ }
\DoxyCodeLine{01332\ \textcolor{preprocessor}{\#if\ !defined(CVUI\_IMPLEMENTATION)\ \&\&\ !defined(CVUI\_DISABLE\_COMPILATION\_NOTICES)}}
\DoxyCodeLine{01333\ \ \ \ \ \textcolor{comment}{//\ cvui.h\ is\ being\ included\ without\ CVUI\_IMEPLEMENTATION.\ Let's\ output\ a\ compile\ notice\ about\ it}}
\DoxyCodeLine{01334\ \ \ \ \ \textcolor{comment}{//\ to\ help\ those\ trying\ to\ debug\ possible\ cvui\ compilation\ errors.}}
\DoxyCodeLine{01335\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ \_CVUI\_COMPILE\_MESSAGE(\_CVUI\_NO\_IMPLEMENTATION\_NOTICE)}}
\DoxyCodeLine{01336\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01337\ }
\DoxyCodeLine{01338\ \textcolor{preprocessor}{\#ifdef\ CVUI\_IMPLEMENTATION}}
\DoxyCodeLine{01339\ }
\DoxyCodeLine{01340\ \textcolor{comment}{//\ Show\ some\ helping\ hand\ in\ case\ cvui.h\ does\ not\ compile\ because\ of\ inclusion\ in\ multiple\ files.}}
\DoxyCodeLine{01341\ \textcolor{preprocessor}{\#ifndef\ CVUI\_DISABLE\_COMPILATION\_NOTICES}}
\DoxyCodeLine{01342\ \textcolor{preprocessor}{\ \ \ \ \#pragma\ \_CVUI\_COMPILE\_MESSAGE(\_CVUI\_IMPLEMENTATION\_NOTICE)}}
\DoxyCodeLine{01343\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \textcolor{keyword}{namespace\ }cvui}
\DoxyCodeLine{01346\ \{}
\DoxyCodeLine{01347\ }
\DoxyCodeLine{01348\ \textcolor{comment}{//\ This\ is\ an\ internal\ namespace\ with\ all\ code}}
\DoxyCodeLine{01349\ \textcolor{comment}{//\ that\ is\ shared\ among\ components/functions}}
\DoxyCodeLine{01350\ \textcolor{keyword}{namespace\ }internal}
\DoxyCodeLine{01351\ \{}
\DoxyCodeLine{01352\ \ \ \ \ \textcolor{keywordtype}{bool}\ isMouseButton(cvui\_mouse\_btn\_t\&\ theButton,\ \textcolor{keywordtype}{int}\ theQuery)\ \{}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aRet\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01354\ }
\DoxyCodeLine{01355\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (theQuery)\ \{}
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::CLICK:}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::UP:}
\DoxyCodeLine{01358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ theButton.justReleased;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::DOWN:}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ theButton.justPressed;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::IS\_DOWN:}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ theButton.pressed;\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01364\ }
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aRet;}
\DoxyCodeLine{01366\ \ \ \ \ \}}
\DoxyCodeLine{01367\ }
\DoxyCodeLine{01368\ \ \ \ \ \textcolor{keywordtype}{void}\ resetMouseButton(cvui\_mouse\_btn\_t\&\ theButton)\ \{}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ theButton.justPressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ theButton.justReleased\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ theButton.pressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01372\ \ \ \ \ \}}
\DoxyCodeLine{01373\ }
\DoxyCodeLine{01374\ \ \ \ \ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theDelayWaitKey)\ \{}
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ internal::gDefaultContext\ =\ theWindowName;}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ internal::gCurrentContext\ =\ theWindowName;}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ internal::gDelayWaitKey\ =\ theDelayWaitKey;}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ internal::gLastKeyPressed\ =\ -\/1;}
\DoxyCodeLine{01379\ \ \ \ \ \}}
\DoxyCodeLine{01380\ }
\DoxyCodeLine{01381\ \ \ \ \ cvui\_context\_t\&\ getContext(\textcolor{keyword}{const}\ cv::String\&\ theWindowName)\ \{}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!theWindowName.empty())\ \{}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ context\ in\ particular}}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::gContexts[theWindowName];}
\DoxyCodeLine{01385\ }
\DoxyCodeLine{01386\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!internal::gCurrentContext.empty())\ \{}
\DoxyCodeLine{01387\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ window\ provided,\ return\ currently\ active\ context.}}
\DoxyCodeLine{01388\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::gContexts[internal::gCurrentContext];}
\DoxyCodeLine{01389\ }
\DoxyCodeLine{01390\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!internal::gDefaultContext.empty())\ \{}
\DoxyCodeLine{01391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ have\ no\ active\ context,\ so\ let's\ use\ the\ default\ one.}}
\DoxyCodeLine{01392\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::gContexts[internal::gDefaultContext];}
\DoxyCodeLine{01393\ }
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Apparently\ we\ have\ no\ window\ at\ all!\ <o>}}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ should\ not\ happen.\ Probably\ cvui::init()\ was\ never\ called.}}
\DoxyCodeLine{01397\ \ \ \ \ \ \ \ \ \ \ \ \ internal::error(5,\ \textcolor{stringliteral}{"{}Unable\ to\ read\ context.\ Did\ you\ forget\ to\ call\ cvui::init()?"{}});}
\DoxyCodeLine{01398\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::gContexts[\textcolor{stringliteral}{"{}first"{}}];\ \textcolor{comment}{//\ return\ to\ make\ the\ compiler\ happy.}}
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01400\ \ \ \ \ \}}
\DoxyCodeLine{01401\ }
\DoxyCodeLine{01402\ \ \ \ \ \textcolor{keywordtype}{bool}\ bitsetHas(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBitset,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theValue)\ \{}
\DoxyCodeLine{01403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (theBitset\ \&\ theValue)\ !=\ 0;}
\DoxyCodeLine{01404\ \ \ \ \ \}}
\DoxyCodeLine{01405\ }
\DoxyCodeLine{01406\ \ \ \ \ \textcolor{keywordtype}{void}\ error(\textcolor{keywordtype}{int}\ theId,\ std::string\ theMessage)\ \{}
\DoxyCodeLine{01407\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}[CVUI]\ Fatal\ error\ (code\ "{}}\ <<\ theId\ <<\ \textcolor{stringliteral}{"{}):\ "{}}\ <<\ theMessage\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{01408\ \ \ \ \ \ \ \ \ cv::waitKey(100000);}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ exit(-\/1);}
\DoxyCodeLine{01410\ \ \ \ \ \}}
\DoxyCodeLine{01411\ }
\DoxyCodeLine{01412\ \ \ \ \ \textcolor{keywordtype}{void}\ updateLayoutFlow(cvui\_block\_t\&\ theBlock,\ cv::Size\ theSize)\ \{}
\DoxyCodeLine{01413\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aValue;}
\DoxyCodeLine{01414\ }
\DoxyCodeLine{01415\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theBlock.type\ ==\ ROW)\ \{}
\DoxyCodeLine{01416\ \ \ \ \ \ \ \ \ \ \ \ \ aValue\ =\ theSize.width\ +\ theBlock.padding;}
\DoxyCodeLine{01417\ }
\DoxyCodeLine{01418\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.anchor.x\ +=\ aValue;}
\DoxyCodeLine{01419\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.fill.width\ +=\ aValue;}
\DoxyCodeLine{01420\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.fill.height\ =\ std::max(theSize.height,\ theBlock.fill.height);}
\DoxyCodeLine{01421\ }
\DoxyCodeLine{01422\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01423\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (theBlock.type\ ==\ COLUMN)\ \{}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \ \ \ \ \ \ aValue\ =\ theSize.height\ +\ theBlock.padding;}
\DoxyCodeLine{01425\ }
\DoxyCodeLine{01426\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.anchor.y\ +=\ aValue;}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.fill.height\ +=\ aValue;}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.fill.width\ =\ std::max(theSize.width,\ theBlock.fill.width);}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01430\ \ \ \ \ \}}
\DoxyCodeLine{01431\ }
\DoxyCodeLine{01432\ \ \ \ \ \textcolor{keywordtype}{bool}\ blockStackEmpty()\ \{}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gStackCount\ ==\ -\/1;}
\DoxyCodeLine{01434\ \ \ \ \ \}}
\DoxyCodeLine{01435\ }
\DoxyCodeLine{01436\ \ \ \ \ cvui\_block\_t\&\ topBlock()\ \{}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gStackCount\ <\ 0)\ \{}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \ \ \ \ \ \ error(3,\ \textcolor{stringliteral}{"{}You\ are\ using\ a\ function\ that\ should\ be\ enclosed\ by\ begin*()\ and\ end*(),\ but\ you\ probably\ forgot\ to\ call\ begin*()."{}});}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01440\ }
\DoxyCodeLine{01441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gStack[gStackCount];}
\DoxyCodeLine{01442\ \ \ \ \ \}}
\DoxyCodeLine{01443\ }
\DoxyCodeLine{01444\ \ \ \ \ cvui\_block\_t\&\ pushBlock()\ \{}
\DoxyCodeLine{01445\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gStack[++gStackCount];}
\DoxyCodeLine{01446\ \ \ \ \ \}}
\DoxyCodeLine{01447\ }
\DoxyCodeLine{01448\ \ \ \ \ cvui\_block\_t\&\ popBlock()\ \{}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ there\ is\ anything\ to\ be\ popped\ out\ from\ the\ stack.}}
\DoxyCodeLine{01450\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gStackCount\ <\ 0)\ \{}
\DoxyCodeLine{01451\ \ \ \ \ \ \ \ \ \ \ \ \ error(1,\ \textcolor{stringliteral}{"{}Mismatch\ in\ the\ number\ of\ begin*()/end*()\ calls.\ You\ are\ calling\ one\ more\ than\ the\ other."{}});}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01453\ }
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ gStack[gStackCount-\/-\/];}
\DoxyCodeLine{01455\ \ \ \ \ \}}
\DoxyCodeLine{01456\ }
\DoxyCodeLine{01457\ \ \ \ \ \textcolor{keywordtype}{void}\ begin(\textcolor{keywordtype}{int}\ theType,\ cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding)\ \{}
\DoxyCodeLine{01458\ \ \ \ \ \ \ \ \ cvui\_block\_t\&\ aBlock\ =\ internal::pushBlock();}
\DoxyCodeLine{01459\ }
\DoxyCodeLine{01460\ \ \ \ \ \ \ \ \ aBlock.where\ =\ theWhere;}
\DoxyCodeLine{01461\ }
\DoxyCodeLine{01462\ \ \ \ \ \ \ \ \ aBlock.rect.x\ =\ theX;}
\DoxyCodeLine{01463\ \ \ \ \ \ \ \ \ aBlock.rect.y\ =\ theY;}
\DoxyCodeLine{01464\ \ \ \ \ \ \ \ \ aBlock.rect.width\ =\ theWidth;}
\DoxyCodeLine{01465\ \ \ \ \ \ \ \ \ aBlock.rect.height\ =\ theHeight;}
\DoxyCodeLine{01466\ }
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ aBlock.fill\ =\ aBlock.rect;}
\DoxyCodeLine{01468\ \ \ \ \ \ \ \ \ aBlock.fill.width\ =\ 0;}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ aBlock.fill.height\ =\ 0;}
\DoxyCodeLine{01470\ }
\DoxyCodeLine{01471\ \ \ \ \ \ \ \ \ aBlock.anchor.x\ =\ theX;}
\DoxyCodeLine{01472\ \ \ \ \ \ \ \ \ aBlock.anchor.y\ =\ theY;}
\DoxyCodeLine{01473\ }
\DoxyCodeLine{01474\ \ \ \ \ \ \ \ \ aBlock.padding\ =\ thePadding;}
\DoxyCodeLine{01475\ \ \ \ \ \ \ \ \ aBlock.type\ =\ theType;}
\DoxyCodeLine{01476\ \ \ \ \ \}}
\DoxyCodeLine{01477\ }
\DoxyCodeLine{01478\ \ \ \ \ \textcolor{keywordtype}{void}\ end(\textcolor{keywordtype}{int}\ theType)\ \{}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ cvui\_block\_t\&\ aBlock\ =\ popBlock();}
\DoxyCodeLine{01480\ }
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aBlock.type\ !=\ theType)\ \{}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ error(4,\ \textcolor{stringliteral}{"{}Calling\ wrong\ type\ of\ end*().\ E.g.\ endColumn()\ instead\ of\ endRow().\ Check\ if\ your\ begin*()\ calls\ are\ matched\ with\ their\ appropriate\ end*()\ calls."{}});}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ still\ have\ blocks\ in\ the\ stack,\ we\ must\ update}}
\DoxyCodeLine{01486\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ current\ top\ with\ the\ dimensions\ that\ were\ filled\ by}}
\DoxyCodeLine{01487\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ newly\ popped\ block.}}
\DoxyCodeLine{01488\ }
\DoxyCodeLine{01489\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!blockStackEmpty())\ \{}
\DoxyCodeLine{01490\ \ \ \ \ \ \ \ \ \ \ \ \ cvui\_block\_t\&\ aTop\ =\ topBlock();}
\DoxyCodeLine{01491\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Size\ aSize;}
\DoxyCodeLine{01492\ }
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ block\ has\ rect.width\ <\ 0\ or\ rect.heigth\ <\ 0,\ it\ means\ the}}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ user\ don't\ want\ to\ calculate\ the\ block's\ width/height.\ It's\ up\ to}}
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ us\ do\ to\ the\ math.\ In\ that\ case,\ we\ use\ the\ block's\ fill\ rect\ to\ find}}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ out\ the\ occupied\ space.\ If\ the\ block's\ width/height\ is\ greater\ than}}
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ zero,\ then\ the\ user\ is\ very\ specific\ about\ the\ desired\ size.\ In\ that}}
\DoxyCodeLine{01498\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ case,\ we\ use\ the\ provided\ width/height,\ no\ matter\ what\ the\ fill\ rect}}
\DoxyCodeLine{01499\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ actually\ is.}}
\DoxyCodeLine{01500\ \ \ \ \ \ \ \ \ \ \ \ \ aSize.width\ =\ aBlock.rect.width\ <\ 0\ ?\ aBlock.fill.width\ :\ aBlock.rect.width;}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \ \ \ \ \ \ aSize.height\ =\ aBlock.rect.height\ <\ 0\ ?\ aBlock.fill.height\ :\ aBlock.rect.height;}
\DoxyCodeLine{01502\ }
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ updateLayoutFlow(aTop,\ aSize);}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01505\ \ \ \ \ \}}
\DoxyCodeLine{01506\ }
\DoxyCodeLine{01507\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ min\ and\ max\ values\ of\ a\ vector}}
\DoxyCodeLine{01508\ \ \ \ \ \textcolor{keywordtype}{void}\ findMinMax(std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{double}\ *theMin,\ \textcolor{keywordtype}{double}\ *theMax)\ \{}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ std::vector<double>::size\_type\ aSize\ =\ theValues.size(),\ i;}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aMin\ =\ theValues[0],\ aMax\ =\ theValues[0];}
\DoxyCodeLine{01511\ }
\DoxyCodeLine{01512\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ aSize;\ i++)\ \{}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theValues[i]\ <\ aMin)\ \{}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aMin\ =\ theValues[i];}
\DoxyCodeLine{01515\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01516\ }
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theValues[i]\ >\ aMax)\ \{}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aMax\ =\ theValues[i];}
\DoxyCodeLine{01519\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01520\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01521\ }
\DoxyCodeLine{01522\ \ \ \ \ \ \ \ \ *theMin\ =\ aMin;}
\DoxyCodeLine{01523\ \ \ \ \ \ \ \ \ *theMax\ =\ aMax;}
\DoxyCodeLine{01524\ \ \ \ \ \}}
\DoxyCodeLine{01525\ }
\DoxyCodeLine{01526\ \ \ \ \ cvui\_label\_t\ createLabel(\textcolor{keyword}{const}\ std::string\ \&theLabel)\ \{}
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ cvui\_label\_t\ aLabel;}
\DoxyCodeLine{01528\ \ \ \ \ \ \ \ \ std::stringstream\ aBefore,\ aAfter;}
\DoxyCodeLine{01529\ }
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ aLabel.hasShortcut\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ aLabel.shortcut\ =\ 0;}
\DoxyCodeLine{01532\ \ \ \ \ \ \ \ \ aLabel.textBeforeShortcut\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01533\ \ \ \ \ \ \ \ \ aLabel.textAfterShortcut\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01534\ }
\DoxyCodeLine{01535\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ theLabel.size();\ i++)\ \{}
\DoxyCodeLine{01536\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ c\ =\ theLabel[i];}
\DoxyCodeLine{01537\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((c\ ==\ \textcolor{charliteral}{'\&'})\ \&\&\ (i\ <\ theLabel.size()\ -\/\ 1))\ \{}
\DoxyCodeLine{01538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aLabel.hasShortcut\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aLabel.shortcut\ =\ theLabel[i\ +\ 1];}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++i;}
\DoxyCodeLine{01541\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01542\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!aLabel.hasShortcut)\ \{}
\DoxyCodeLine{01543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aBefore\ <<\ c;}
\DoxyCodeLine{01544\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01545\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aAfter\ <<\ c;}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01549\ }
\DoxyCodeLine{01550\ \ \ \ \ \ \ \ \ aLabel.textBeforeShortcut\ =\ aBefore.str();}
\DoxyCodeLine{01551\ \ \ \ \ \ \ \ \ aLabel.textAfterShortcut\ =\ aAfter.str();}
\DoxyCodeLine{01552\ }
\DoxyCodeLine{01553\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aLabel;}
\DoxyCodeLine{01554\ \ \ \ \ \}}
\DoxyCodeLine{01555\ }
\DoxyCodeLine{01556\ \ \ \ \ cv::Scalar\ hexToScalar(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{01557\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aAlpha\ =\ (theColor\ >>\ 24)\ \&\ 0xff;}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aRed\ =\ (theColor\ >>\ 16)\ \&\ 0xff;}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aGreen\ =\ (theColor\ >>\ 8)\ \&\ 0xff;}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aBlue\ =\ theColor\ \&\ 0xff;}
\DoxyCodeLine{01561\ }
\DoxyCodeLine{01562\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cv::Scalar(aBlue,\ aGreen,\ aRed,\ aAlpha);}
\DoxyCodeLine{01563\ \ \ \ \ \}}
\DoxyCodeLine{01564\ }
\DoxyCodeLine{01565\ \ \ \ \ \textcolor{keywordtype}{void}\ resetRenderingBuffer(cvui\_block\_t\&\ theScreen)\ \{}
\DoxyCodeLine{01566\ \ \ \ \ \ \ \ \ theScreen.rect.x\ =\ 0;}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ theScreen.rect.y\ =\ 0;}
\DoxyCodeLine{01568\ \ \ \ \ \ \ \ \ theScreen.rect.width\ =\ 0;}
\DoxyCodeLine{01569\ \ \ \ \ \ \ \ \ theScreen.rect.height\ =\ 0;}
\DoxyCodeLine{01570\ }
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ theScreen.fill\ =\ theScreen.rect;}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ theScreen.fill.width\ =\ 0;}
\DoxyCodeLine{01573\ \ \ \ \ \ \ \ \ theScreen.fill.height\ =\ 0;}
\DoxyCodeLine{01574\ }
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ theScreen.anchor.x\ =\ 0;}
\DoxyCodeLine{01576\ \ \ \ \ \ \ \ \ theScreen.anchor.y\ =\ 0;}
\DoxyCodeLine{01577\ }
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ theScreen.padding\ =\ 0;}
\DoxyCodeLine{01579\ \ \ \ \ \}}
\DoxyCodeLine{01580\ }
\DoxyCodeLine{01581\ }
\DoxyCodeLine{01582\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ clamp01(\textcolor{keywordtype}{double}\ value)}
\DoxyCodeLine{01583\ \ \ \ \ \{}
\DoxyCodeLine{01584\ \ \ \ \ \ \ \ \ value\ =\ value\ >\ 1.\ ?\ 1.\ :\ value;}
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ value\ =\ value\ <\ 0.\ ?\ 0.\ :\ value;}
\DoxyCodeLine{01586\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{01587\ \ \ \ \ \}}
\DoxyCodeLine{01588\ }
\DoxyCodeLine{01589\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ trackbarForceValuesAsMultiplesOfSmallStep(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ *theValue)}
\DoxyCodeLine{01590\ \ \ \ \ \{}
\DoxyCodeLine{01591\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bitsetHas(theParams.options,\ TRACKBAR\_DISCRETE)\ \&\&\ theParams.step\ !=\ 0.)\ \{}
\DoxyCodeLine{01592\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ k\ =\ (*theValue\ -\/\ theParams.min)\ /\ theParams.step;}
\DoxyCodeLine{01593\ \ \ \ \ \ \ \ \ \ \ \ \ k\ =\ (\textcolor{keywordtype}{long}\ double)cvRound((\textcolor{keywordtype}{double})k);}
\DoxyCodeLine{01594\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ =\ theParams.min\ +\ theParams.step\ *\ k;}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01596\ \ \ \ \ \}}
\DoxyCodeLine{01597\ }
\DoxyCodeLine{01598\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ trackbarXPixelToValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ cv::Rect\ \&\ theBounding,\ \textcolor{keywordtype}{int}\ thePixelX)}
\DoxyCodeLine{01599\ \ \ \ \ \{}
\DoxyCodeLine{01600\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ ratio\ =\ (thePixelX\ -\/\ (\textcolor{keywordtype}{long}\ double)(theBounding.x\ +\ gTrackbarMarginX))\ /\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double})(theBounding.width\ -\/\ 2\ *\ gTrackbarMarginX);}
\DoxyCodeLine{01601\ \ \ \ \ \ \ \ \ ratio\ =\ clamp01(ratio);}
\DoxyCodeLine{01602\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ value\ =\ theParams.min\ +\ ratio\ *\ (theParams.max\ -\/\ theParams.min);}
\DoxyCodeLine{01603\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ value;}
\DoxyCodeLine{01604\ \ \ \ \ \}}
\DoxyCodeLine{01605\ }
\DoxyCodeLine{01606\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ trackbarValueToXPixel(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams,\ cv::Rect\ \&\ theBounding,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ theValue)}
\DoxyCodeLine{01607\ \ \ \ \ \{}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aRatio\ =\ (theValue\ -\/\ theParams.min)\ /\ (theParams.max\ -\/\ theParams.min);}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \ \ aRatio\ =\ clamp01(aRatio);}
\DoxyCodeLine{01610\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ thePixelsX\ =\ (\textcolor{keywordtype}{long}\ double)theBounding.x\ +\ gTrackbarMarginX\ +\ aRatio\ *\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double})(theBounding.width\ -\/\ 2\ *\ gTrackbarMarginX);}
\DoxyCodeLine{01611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})thePixelsX;}
\DoxyCodeLine{01612\ \ \ \ \ \}}
\DoxyCodeLine{01613\ }
\DoxyCodeLine{01614\ \ \ \ \ \textcolor{keywordtype}{int}\ iarea(\textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight)\ \{}
\DoxyCodeLine{01615\ \ \ \ \ \ \ \ \ cvui\_mouse\_t\&\ aMouse\ =\ internal::getContext().mouse;}
\DoxyCodeLine{01616\ }
\DoxyCodeLine{01617\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ By\ default,\ return\ that\ the\ mouse\ is\ out\ of\ the\ interaction\ area.}}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aRet\ =\ cvui::OUT;}
\DoxyCodeLine{01619\ }
\DoxyCodeLine{01620\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ mouse\ is\ over\ the\ interaction\ area.}}
\DoxyCodeLine{01621\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aMouseIsOver\ =\ cv::Rect(theX,\ theY,\ theWidth,\ theHeight).contains(aMouse.position);}
\DoxyCodeLine{01622\ }
\DoxyCodeLine{01623\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouseIsOver)\ \{}
\DoxyCodeLine{01624\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouse.anyButton.pressed)\ \{}
\DoxyCodeLine{01625\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ cvui::DOWN;}
\DoxyCodeLine{01626\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ cvui::OVER;}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01629\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01630\ }
\DoxyCodeLine{01631\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Tell\ if\ the\ button\ was\ clicked\ or\ not}}
\DoxyCodeLine{01632\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouseIsOver\ \&\&\ aMouse.anyButton.justReleased)\ \{}
\DoxyCodeLine{01633\ \ \ \ \ \ \ \ \ \ \ \ \ aRet\ =\ cvui::CLICK;}
\DoxyCodeLine{01634\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01635\ }
\DoxyCodeLine{01636\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aRet;}
\DoxyCodeLine{01637\ \ \ \ \ \}}
\DoxyCodeLine{01638\ }
\DoxyCodeLine{01639\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ theUpdateLayout)\ \{}
\DoxyCodeLine{01640\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ space\ that\ the\ label\ will\ fill}}
\DoxyCodeLine{01641\ \ \ \ \ \ \ \ \ cv::Size\ aTextSize\ =\ getTextSize(theLabel,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01642\ }
\DoxyCodeLine{01643\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Make\ the\ button\ bit\ enough\ to\ house\ the\ label}}
\DoxyCodeLine{01644\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ theWidth,\ theHeight);}
\DoxyCodeLine{01645\ }
\DoxyCodeLine{01646\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ button\ according\ to\ mouse\ interaction,\ e.g.\ OVER,\ DOWN,\ OUT.}}
\DoxyCodeLine{01647\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aStatus\ =\ cvui::iarea(theX,\ theY,\ aRect.width,\ aRect.height);}
\DoxyCodeLine{01648\ \ \ \ \ \ \ \ \ render::button(theBlock,\ aStatus,\ aRect,\ theLabel);}
\DoxyCodeLine{01649\ \ \ \ \ \ \ \ \ render::buttonLabel(theBlock,\ aStatus,\ aRect,\ theLabel,\ aTextSize);}
\DoxyCodeLine{01650\ }
\DoxyCodeLine{01651\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow\ according\ to\ button\ size}}
\DoxyCodeLine{01652\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ were\ told\ to\ update.}}
\DoxyCodeLine{01653\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theUpdateLayout)\ \{}
\DoxyCodeLine{01654\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Size\ aSize(theWidth,\ theHeight);}
\DoxyCodeLine{01655\ \ \ \ \ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01656\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01657\ }
\DoxyCodeLine{01658\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aWasShortcutPressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01659\ }
\DoxyCodeLine{01660\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Handle\ keyboard\ shortcuts}}
\DoxyCodeLine{01661\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::gLastKeyPressed\ !=\ -\/1)\ \{}
\DoxyCodeLine{01662\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ replace\ with\ something\ like\ strpos().\ I\ think\ it\ has\ better\ performance.}}
\DoxyCodeLine{01663\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ aLabel\ =\ internal::createLabel(theLabel);}
\DoxyCodeLine{01664\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aLabel.hasShortcut\ \&\&\ (tolower(aLabel.shortcut)\ ==\ tolower((\textcolor{keywordtype}{char})internal::gLastKeyPressed)))\ \{}
\DoxyCodeLine{01665\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ aWasShortcutPressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01666\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01667\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01668\ }
\DoxyCodeLine{01669\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ true\ if\ the\ button\ was\ clicked}}
\DoxyCodeLine{01670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aStatus\ ==\ cvui::CLICK\ ||\ aWasShortcutPressed;}
\DoxyCodeLine{01671\ \ \ \ \ \}}
\DoxyCodeLine{01672\ }
\DoxyCodeLine{01673\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{01674\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ space\ that\ the\ label\ will\ fill}}
\DoxyCodeLine{01675\ \ \ \ \ \ \ \ \ cv::Size\ aTextSize\ =\ getTextSize(theLabel,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01676\ }
\DoxyCodeLine{01677\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ a\ button\ based\ on\ the\ size\ of\ the\ text}}
\DoxyCodeLine{01678\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(theBlock,\ theX,\ theY,\ aTextSize.width\ +\ 30,\ aTextSize.height\ +\ 18,\ theLabel,\ \textcolor{keyword}{true});}
\DoxyCodeLine{01679\ \ \ \ \ \}}
\DoxyCodeLine{01680\ }
\DoxyCodeLine{01681\ \ \ \ \ \textcolor{keywordtype}{bool}\ button(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown,\ \textcolor{keywordtype}{bool}\ theUpdateLayout)\ \{}
\DoxyCodeLine{01682\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ theIdle.cols,\ theIdle.rows);}
\DoxyCodeLine{01683\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aStatus\ =\ cvui::iarea(theX,\ theY,\ aRect.width,\ aRect.height);}
\DoxyCodeLine{01684\ }
\DoxyCodeLine{01685\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (aStatus)\ \{}
\DoxyCodeLine{01686\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::OUT:\ render::image(theBlock,\ aRect,\ theIdle);\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01687\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::OVER:\ render::image(theBlock,\ aRect,\ theOver);\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01688\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ cvui::DOWN:\ render::image(theBlock,\ aRect,\ theDown);\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01689\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01690\ }
\DoxyCodeLine{01691\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow\ according\ to\ button\ size}}
\DoxyCodeLine{01692\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ were\ told\ to\ update.}}
\DoxyCodeLine{01693\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theUpdateLayout)\ \{}
\DoxyCodeLine{01694\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Size\ aSize(aRect.width,\ aRect.height);}
\DoxyCodeLine{01695\ \ \ \ \ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01696\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01697\ }
\DoxyCodeLine{01698\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ true\ if\ the\ button\ was\ clicked}}
\DoxyCodeLine{01699\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aStatus\ ==\ cvui::CLICK;}
\DoxyCodeLine{01700\ \ \ \ \ \}}
\DoxyCodeLine{01701\ }
\DoxyCodeLine{01702\ \ \ \ \ \textcolor{keywordtype}{void}\ image(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theImage)\ \{}
\DoxyCodeLine{01703\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ theImage.cols,\ theImage.rows);}
\DoxyCodeLine{01704\ }
\DoxyCodeLine{01705\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ check\ for\ render\ outside\ the\ frame\ area}}
\DoxyCodeLine{01706\ \ \ \ \ \ \ \ \ render::image(theBlock,\ aRect,\ theImage);}
\DoxyCodeLine{01707\ }
\DoxyCodeLine{01708\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow\ according\ to\ image\ size}}
\DoxyCodeLine{01709\ \ \ \ \ \ \ \ \ cv::Size\ aSize(theImage.cols,\ theImage.rows);}
\DoxyCodeLine{01710\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01711\ \ \ \ \ \}}
\DoxyCodeLine{01712\ }
\DoxyCodeLine{01713\ \ \ \ \ \textcolor{keywordtype}{bool}\ checkbox(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{01714\ \ \ \ \ \ \ \ \ cvui\_mouse\_t\&\ aMouse\ =\ internal::getContext().mouse;}
\DoxyCodeLine{01715\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ 15,\ 15);}
\DoxyCodeLine{01716\ \ \ \ \ \ \ \ \ cv::Size\ aTextSize\ =\ getTextSize(theLabel,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01717\ \ \ \ \ \ \ \ \ cv::Rect\ aHitArea(theX,\ theY,\ aRect.width\ +\ aTextSize.width\ +\ 6,\ aRect.height);}
\DoxyCodeLine{01718\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aMouseIsOver\ =\ aHitArea.contains(aMouse.position);}
\DoxyCodeLine{01719\ }
\DoxyCodeLine{01720\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouseIsOver)\ \{}
\DoxyCodeLine{01721\ \ \ \ \ \ \ \ \ \ \ \ \ render::checkbox(theBlock,\ cvui::OVER,\ aRect);}
\DoxyCodeLine{01722\ }
\DoxyCodeLine{01723\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouse.anyButton.justReleased)\ \{}
\DoxyCodeLine{01724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *theState\ =\ !(*theState);}
\DoxyCodeLine{01725\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01726\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01727\ \ \ \ \ \ \ \ \ \ \ \ \ render::checkbox(theBlock,\ cvui::OUT,\ aRect);}
\DoxyCodeLine{01728\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01729\ }
\DoxyCodeLine{01730\ \ \ \ \ \ \ \ \ render::checkboxLabel(theBlock,\ aRect,\ theLabel,\ aTextSize,\ theColor);}
\DoxyCodeLine{01731\ }
\DoxyCodeLine{01732\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*theState)\ \{}
\DoxyCodeLine{01733\ \ \ \ \ \ \ \ \ \ \ \ \ render::checkboxCheck(theBlock,\ aRect);}
\DoxyCodeLine{01734\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01735\ }
\DoxyCodeLine{01736\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01737\ \ \ \ \ \ \ \ \ cv::Size\ aSize(aHitArea.width,\ aHitArea.height);}
\DoxyCodeLine{01738\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01739\ }
\DoxyCodeLine{01740\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *theState;}
\DoxyCodeLine{01741\ \ \ \ \ \}}
\DoxyCodeLine{01742\ }
\DoxyCodeLine{01743\ \ \ \ \ \textcolor{keywordtype}{void}\ text(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keywordtype}{bool}\ theUpdateLayout)\ \{}
\DoxyCodeLine{01744\ \ \ \ \ \ \ \ \ cv::Size\ aTextSize\ =\ cv::getTextSize(theText,\ cv::FONT\_HERSHEY\_SIMPLEX,\ theFontScale,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01745\ \ \ \ \ \ \ \ \ cv::Point\ aPos(theX,\ theY\ +\ aTextSize.height);}
\DoxyCodeLine{01746\ }
\DoxyCodeLine{01747\ \ \ \ \ \ \ \ \ render::text(theBlock,\ theText,\ aPos,\ theFontScale,\ theColor);}
\DoxyCodeLine{01748\ }
\DoxyCodeLine{01749\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theUpdateLayout)\ \{}
\DoxyCodeLine{01750\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ an\ extra\ pixel\ to\ the\ height\ to\ overcome\ OpenCV\ font\ size\ problems.}}
\DoxyCodeLine{01751\ \ \ \ \ \ \ \ \ \ \ \ \ aTextSize.height\ +=\ 1;}
\DoxyCodeLine{01752\ }
\DoxyCodeLine{01753\ \ \ \ \ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aTextSize);}
\DoxyCodeLine{01754\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01755\ \ \ \ \ \}}
\DoxyCodeLine{01756\ }
\DoxyCodeLine{01757\ \ \ \ \ \textcolor{keywordtype}{int}\ counter(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{01758\ \ \ \ \ \ \ \ \ cv::Rect\ aContentArea(theX\ +\ 22,\ theY,\ 48,\ 22);}
\DoxyCodeLine{01759\ }
\DoxyCodeLine{01760\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::button(theBlock,\ theX,\ theY,\ 22,\ 22,\ \textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{01761\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ -\/=\ theStep;}
\DoxyCodeLine{01762\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01763\ }
\DoxyCodeLine{01764\ \ \ \ \ \ \ \ \ sprintf\_s(internal::gBuffer,\ theFormat,\ *theValue);}
\DoxyCodeLine{01765\ \ \ \ \ \ \ \ \ render::counter(theBlock,\ aContentArea,\ internal::gBuffer);}
\DoxyCodeLine{01766\ }
\DoxyCodeLine{01767\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::button(theBlock,\ aContentArea.x\ +\ aContentArea.width,\ theY,\ 22,\ 22,\ \textcolor{stringliteral}{"{}+"{}},\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{01768\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ +=\ theStep;}
\DoxyCodeLine{01769\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01770\ }
\DoxyCodeLine{01771\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01772\ \ \ \ \ \ \ \ \ cv::Size\ aSize(22\ *\ 2\ +\ aContentArea.width,\ aContentArea.height);}
\DoxyCodeLine{01773\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01774\ }
\DoxyCodeLine{01775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *theValue;}
\DoxyCodeLine{01776\ \ \ \ \ \}}
\DoxyCodeLine{01777\ }
\DoxyCodeLine{01778\ \ \ \ \ \textcolor{keywordtype}{double}\ counter(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{01779\ \ \ \ \ \ \ \ \ cv::Rect\ aContentArea(theX\ +\ 22,\ theY,\ 48,\ 22);}
\DoxyCodeLine{01780\ }
\DoxyCodeLine{01781\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::button(theBlock,\ theX,\ theY,\ 22,\ 22,\ \textcolor{stringliteral}{"{}-\/"{}},\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{01782\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ -\/=\ theStep;}
\DoxyCodeLine{01783\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01784\ }
\DoxyCodeLine{01785\ \ \ \ \ \ \ \ \ sprintf\_s(internal::gBuffer,\ theFormat,\ *theValue);}
\DoxyCodeLine{01786\ \ \ \ \ \ \ \ \ render::counter(theBlock,\ aContentArea,\ internal::gBuffer);}
\DoxyCodeLine{01787\ }
\DoxyCodeLine{01788\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::button(theBlock,\ aContentArea.x\ +\ aContentArea.width,\ theY,\ 22,\ 22,\ \textcolor{stringliteral}{"{}+"{}},\ \textcolor{keyword}{false}))\ \{}
\DoxyCodeLine{01789\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ +=\ theStep;}
\DoxyCodeLine{01790\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01791\ }
\DoxyCodeLine{01792\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01793\ \ \ \ \ \ \ \ \ cv::Size\ aSize(22\ *\ 2\ +\ aContentArea.width,\ aContentArea.height);}
\DoxyCodeLine{01794\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01795\ }
\DoxyCodeLine{01796\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *theValue;}
\DoxyCodeLine{01797\ \ \ \ \ \}}
\DoxyCodeLine{01798\ }
\DoxyCodeLine{01799\ \ \ \ \ \textcolor{keywordtype}{bool}\ trackbar(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcvui_1_1internal_1_1_trackbar_params}{TrackbarParams}}\ \&\ theParams)\ \{}
\DoxyCodeLine{01800\ \ \ \ \ \ \ \ \ cvui\_mouse\_t\&\ aMouse\ =\ internal::getContext().mouse;}
\DoxyCodeLine{01801\ \ \ \ \ \ \ \ \ cv::Rect\ aContentArea(theX,\ theY,\ theWidth,\ 45);}
\DoxyCodeLine{01802\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aValue\ =\ *theValue;}
\DoxyCodeLine{01803\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aMouseIsOver\ =\ aContentArea.contains(aMouse.position);}
\DoxyCodeLine{01804\ }
\DoxyCodeLine{01805\ \ \ \ \ \ \ \ \ render::trackbar(theBlock,\ aMouseIsOver\ ?\ OVER\ :\ OUT,\ aContentArea,\ *theValue,\ theParams);}
\DoxyCodeLine{01806\ }
\DoxyCodeLine{01807\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aMouse.anyButton.pressed\ \&\&\ aMouseIsOver)\ \{}
\DoxyCodeLine{01808\ \ \ \ \ \ \ \ \ \ \ \ \ *theValue\ =\ internal::trackbarXPixelToValue(theParams,\ aContentArea,\ aMouse.position.x);}
\DoxyCodeLine{01809\ }
\DoxyCodeLine{01810\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bitsetHas(theParams.options,\ TRACKBAR\_DISCRETE))\ \{}
\DoxyCodeLine{01811\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ internal::trackbarForceValuesAsMultiplesOfSmallStep(theParams,\ theValue);}
\DoxyCodeLine{01812\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01813\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01814\ }
\DoxyCodeLine{01815\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01816\ \ \ \ \ \ \ \ \ cv::Size\ aSize\ =\ aContentArea.size();}
\DoxyCodeLine{01817\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01818\ }
\DoxyCodeLine{01819\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (*theValue\ !=\ aValue);}
\DoxyCodeLine{01820\ \ \ \ \ \}}
\DoxyCodeLine{01821\ }
\DoxyCodeLine{01822\ }
\DoxyCodeLine{01823\ \ \ \ \ \textcolor{keywordtype}{void}\ window(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle)\ \{}
\DoxyCodeLine{01824\ \ \ \ \ \ \ \ \ cv::Rect\ aTitleBar(theX,\ theY,\ theWidth,\ 20);}
\DoxyCodeLine{01825\ \ \ \ \ \ \ \ \ cv::Rect\ aContent(theX,\ theY\ +\ aTitleBar.height,\ theWidth,\ theHeight\ -\/\ aTitleBar.height);}
\DoxyCodeLine{01826\ }
\DoxyCodeLine{01827\ \ \ \ \ \ \ \ \ render::window(theBlock,\ aTitleBar,\ aContent,\ theTitle);}
\DoxyCodeLine{01828\ }
\DoxyCodeLine{01829\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01830\ \ \ \ \ \ \ \ \ cv::Size\ aSize(theWidth,\ theHeight);}
\DoxyCodeLine{01831\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01832\ \ \ \ \ \}}
\DoxyCodeLine{01833\ }
\DoxyCodeLine{01834\ \ \ \ \ \textcolor{keywordtype}{void}\ rect(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor)\ \{}
\DoxyCodeLine{01835\ \ \ \ \ \ \ \ \ cv::Point\ aAnchor(theX,\ theY);}
\DoxyCodeLine{01836\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ theWidth,\ theHeight);}
\DoxyCodeLine{01837\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{01838\ \ \ \ \ \ \ \ \ aRect.x\ =\ aRect.width\ <\ 0\ ?\ aAnchor.x\ +\ aRect.width\ :\ aAnchor.x;}
\DoxyCodeLine{01839\ \ \ \ \ \ \ \ \ aRect.y\ =\ aRect.height\ <\ 0\ ?\ aAnchor.y\ +\ aRect.height\ :\ aAnchor.y;}
\DoxyCodeLine{01840\ \ \ \ \ \ \ \ \ aRect.width\ =\ std::abs(aRect.width);}
\DoxyCodeLine{01841\ \ \ \ \ \ \ \ \ aRect.height\ =\ std::abs(aRect.height);}
\DoxyCodeLine{01842\ }
\DoxyCodeLine{01843\ \ \ \ \ \ \ \ \ render::rect(theBlock,\ aRect,\ theBorderColor,\ theFillingColor);}
\DoxyCodeLine{01844\ }
\DoxyCodeLine{01845\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01846\ \ \ \ \ \ \ \ \ cv::Size\ aSize(aRect.width,\ aRect.height);}
\DoxyCodeLine{01847\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01848\ \ \ \ \ \}}
\DoxyCodeLine{01849\ }
\DoxyCodeLine{01850\ \ \ \ \ \textcolor{keywordtype}{void}\ sparkline(cvui\_block\_t\&\ theBlock,\ std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{01851\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aMin,\ aMax;}
\DoxyCodeLine{01852\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(theX,\ theY,\ theWidth,\ theHeight);}
\DoxyCodeLine{01853\ \ \ \ \ \ \ \ \ std::vector<double>::size\_type\ aHowManyValues\ =\ theValues.size();}
\DoxyCodeLine{01854\ }
\DoxyCodeLine{01855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aHowManyValues\ >=\ 2)\ \{}
\DoxyCodeLine{01856\ \ \ \ \ \ \ \ \ \ \ \ \ internal::findMinMax(theValues,\ \&aMin,\ \&aMax);}
\DoxyCodeLine{01857\ \ \ \ \ \ \ \ \ \ \ \ \ render::sparkline(theBlock,\ theValues,\ aRect,\ aMin,\ aMax,\ theColor);}
\DoxyCodeLine{01858\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01859\ \ \ \ \ \ \ \ \ \ \ \ \ internal::text(theBlock,\ theX,\ theY,\ aHowManyValues\ ==\ 0\ ?\ \textcolor{stringliteral}{"{}No\ data."{}}\ :\ \textcolor{stringliteral}{"{}Insufficient\ data\ points."{}},\ 0.4,\ 0xCECECE,\ \textcolor{keyword}{false});}
\DoxyCodeLine{01860\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01861\ }
\DoxyCodeLine{01862\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ layout\ flow}}
\DoxyCodeLine{01863\ \ \ \ \ \ \ \ \ cv::Size\ aSize(theWidth,\ theHeight);}
\DoxyCodeLine{01864\ \ \ \ \ \ \ \ \ updateLayoutFlow(theBlock,\ aSize);}
\DoxyCodeLine{01865\ \ \ \ \ \}}
\DoxyCodeLine{01866\ \}\ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{01867\ }
\DoxyCodeLine{01868\ \textcolor{comment}{//\ This\ is\ an\ internal\ namespace\ with\ all\ functions}}
\DoxyCodeLine{01869\ \textcolor{comment}{//\ that\ actually\ render\ each\ one\ of\ the\ UI\ components}}
\DoxyCodeLine{01870\ \textcolor{keyword}{namespace\ }render}
\DoxyCodeLine{01871\ \{}
\DoxyCodeLine{01872\ \ \ \ \ \textcolor{keywordtype}{void}\ text(cvui\_block\_t\&\ theBlock,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ cv::Point\&\ thePos,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{01873\ \ \ \ \ \ \ \ \ cv::putText(theBlock.where,\ theText,\ thePos,\ cv::FONT\_HERSHEY\_SIMPLEX,\ theFontScale,\ internal::hexToScalar(theColor),\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{01874\ \ \ \ \ \}}
\DoxyCodeLine{01875\ }
\DoxyCodeLine{01876\ \ \ \ \ \textcolor{keywordtype}{void}\ button(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{01877\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Outline}}
\DoxyCodeLine{01878\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x29,\ 0x29,\ 0x29));}
\DoxyCodeLine{01879\ }
\DoxyCodeLine{01880\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Border}}
\DoxyCodeLine{01881\ \ \ \ \ \ \ \ \ theShape.x++;\ theShape.y++;\ theShape.width\ -\/=\ 2;\ theShape.height\ -\/=\ 2;}
\DoxyCodeLine{01882\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x4A,\ 0x4A,\ 0x4A));}
\DoxyCodeLine{01883\ }
\DoxyCodeLine{01884\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Inside}}
\DoxyCodeLine{01885\ \ \ \ \ \ \ \ \ theShape.x++;\ theShape.y++;\ theShape.width\ -\/=\ 2;\ theShape.height\ -\/=\ 2;}
\DoxyCodeLine{01886\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ theState\ ==\ OUT\ ?\ cv::Scalar(0x42,\ 0x42,\ 0x42)\ :\ (theState\ ==\ OVER\ ?\ cv::Scalar(0x52,\ 0x52,\ 0x52)\ :\ cv::Scalar(0x32,\ 0x32,\ 0x32)),\ CVUI\_FILLED);}
\DoxyCodeLine{01887\ \ \ \ \ \}}
\DoxyCodeLine{01888\ }
\DoxyCodeLine{01889\ \ \ \ \ \textcolor{keywordtype}{int}\ putText(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Scalar\ aColor,\ \textcolor{keyword}{const}\ std::string\&\ theText,\ \textcolor{keyword}{const}\ cv::Point\ \&\ thePosition)\ \{}
\DoxyCodeLine{01890\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aFontSize\ =\ theState\ ==\ cvui::DOWN\ ?\ 0.39\ :\ 0.4;}
\DoxyCodeLine{01891\ \ \ \ \ \ \ \ \ cv::Size\ aSize;}
\DoxyCodeLine{01892\ }
\DoxyCodeLine{01893\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theText\ !=\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{01894\ \ \ \ \ \ \ \ \ \ \ \ \ cv::putText(theBlock.where,\ theText,\ thePosition,\ cv::FONT\_HERSHEY\_SIMPLEX,\ aFontSize,\ aColor,\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{01895\ \ \ \ \ \ \ \ \ \ \ \ \ aSize\ =\ cv::getTextSize(theText,\ cv::FONT\_HERSHEY\_SIMPLEX,\ aFontSize,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01896\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01897\ }
\DoxyCodeLine{01898\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ aSize.width;}
\DoxyCodeLine{01899\ \ \ \ \ \}}
\DoxyCodeLine{01900\ }
\DoxyCodeLine{01901\ \ \ \ \ \textcolor{keywordtype}{int}\ putTextCentered(cvui\_block\_t\&\ theBlock,\ \textcolor{keyword}{const}\ cv::Point\ \&\ position,\ \textcolor{keyword}{const}\ std::string\ \&text)\ \{}
\DoxyCodeLine{01902\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aFontScale\ =\ 0.3;}
\DoxyCodeLine{01903\ }
\DoxyCodeLine{01904\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ size\ =\ cv::getTextSize(text,\ cv::FONT\_HERSHEY\_SIMPLEX,\ aFontScale,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01905\ \ \ \ \ \ \ \ \ cv::Point\ positionDecentered(position.x\ -\/\ size.width\ /\ 2,\ position.y);}
\DoxyCodeLine{01906\ \ \ \ \ \ \ \ \ cv::putText(theBlock.where,\ text,\ positionDecentered,\ cv::FONT\_HERSHEY\_SIMPLEX,\ aFontScale,\ cv::Scalar(0xCE,\ 0xCE,\ 0xCE),\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{01907\ }
\DoxyCodeLine{01908\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ size.width;}
\DoxyCodeLine{01909\ \ \ \ \ \};}
\DoxyCodeLine{01910\ }
\DoxyCodeLine{01911\ \ \ \ \ \textcolor{keywordtype}{void}\ buttonLabel(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\ theRect,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ cv::Size\&\ theTextSize)\ \{}
\DoxyCodeLine{01912\ \ \ \ \ \ \ \ \ cv::Point\ aPos(theRect.x\ +\ theRect.width\ /\ 2\ -\/\ theTextSize.width\ /\ 2,\ theRect.y\ +\ theRect.height\ /\ 2\ +\ theTextSize.height\ /\ 2);}
\DoxyCodeLine{01913\ \ \ \ \ \ \ \ \ cv::Scalar\ aColor\ =\ cv::Scalar(0xCE,\ 0xCE,\ 0xCE);}
\DoxyCodeLine{01914\ }
\DoxyCodeLine{01915\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ aLabel\ =\ internal::createLabel(theLabel);}
\DoxyCodeLine{01916\ }
\DoxyCodeLine{01917\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!aLabel.hasShortcut)\ \{}
\DoxyCodeLine{01918\ \ \ \ \ \ \ \ \ \ \ \ \ putText(theBlock,\ theState,\ aColor,\ theLabel,\ aPos);}
\DoxyCodeLine{01919\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01920\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01921\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aWidth\ =\ putText(theBlock,\ theState,\ aColor,\ aLabel.textBeforeShortcut,\ aPos);}
\DoxyCodeLine{01922\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aStart\ =\ aPos.x\ +\ aWidth;}
\DoxyCodeLine{01923\ \ \ \ \ \ \ \ \ \ \ \ \ aPos.x\ +=\ aWidth;}
\DoxyCodeLine{01924\ }
\DoxyCodeLine{01925\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ aShortcut;}
\DoxyCodeLine{01926\ \ \ \ \ \ \ \ \ \ \ \ \ aShortcut.push\_back(aLabel.shortcut);}
\DoxyCodeLine{01927\ }
\DoxyCodeLine{01928\ \ \ \ \ \ \ \ \ \ \ \ \ aWidth\ =\ putText(theBlock,\ theState,\ aColor,\ aShortcut,\ aPos);}
\DoxyCodeLine{01929\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aEnd\ =\ aStart\ +\ aWidth;}
\DoxyCodeLine{01930\ \ \ \ \ \ \ \ \ \ \ \ \ aPos.x\ +=\ aWidth;}
\DoxyCodeLine{01931\ }
\DoxyCodeLine{01932\ \ \ \ \ \ \ \ \ \ \ \ \ putText(theBlock,\ theState,\ aColor,\ aLabel.textAfterShortcut,\ aPos);}
\DoxyCodeLine{01933\ \ \ \ \ \ \ \ \ \ \ \ \ cv::line(theBlock.where,\ cv::Point(aStart,\ aPos.y\ +\ 3),\ cv::Point(aEnd,\ aPos.y\ +\ 3),\ aColor,\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{01934\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01935\ \ \ \ \ \}}
\DoxyCodeLine{01936\ }
\DoxyCodeLine{01937\ \ \ \ \ \textcolor{keywordtype}{void}\ image(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theRect,\ cv::Mat\&\ theImage)\ \{}
\DoxyCodeLine{01938\ \ \ \ \ \ \ \ \ theImage.copyTo(theBlock.where(theRect));}
\DoxyCodeLine{01939\ \ \ \ \ \}}
\DoxyCodeLine{01940\ }
\DoxyCodeLine{01941\ \ \ \ \ \textcolor{keywordtype}{void}\ counter(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ cv::String\&\ theValue)\ \{}
\DoxyCodeLine{01942\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x29,\ 0x29,\ 0x29),\ CVUI\_FILLED);\ \textcolor{comment}{//\ fill}}
\DoxyCodeLine{01943\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x45,\ 0x45,\ 0x45));\ \textcolor{comment}{//\ border}}
\DoxyCodeLine{01944\ }
\DoxyCodeLine{01945\ \ \ \ \ \ \ \ \ cv::Size\ aTextSize\ =\ getTextSize(theValue,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{01946\ }
\DoxyCodeLine{01947\ \ \ \ \ \ \ \ \ cv::Point\ aPos(theShape.x\ +\ theShape.width\ /\ 2\ -\/\ aTextSize.width\ /\ 2,\ theShape.y\ +\ aTextSize.height\ /\ 2\ +\ theShape.height\ /\ 2);}
\DoxyCodeLine{01948\ \ \ \ \ \ \ \ \ cv::putText(theBlock.where,\ theValue,\ aPos,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ cv::Scalar(0xCE,\ 0xCE,\ 0xCE),\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{01949\ \ \ \ \ \}}
\DoxyCodeLine{01950\ }
\DoxyCodeLine{01951\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarHandle(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea)\ \{}
\DoxyCodeLine{01952\ \ \ \ \ \ \ \ \ cv::Point\ aBarTopLeft(theWorkingArea.x,\ theWorkingArea.y\ +\ theWorkingArea.height\ /\ 2);}
\DoxyCodeLine{01953\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aBarHeight\ =\ 7;}
\DoxyCodeLine{01954\ }
\DoxyCodeLine{01955\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Draw\ the\ rectangle\ representing\ the\ handle}}
\DoxyCodeLine{01956\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aPixelX\ =\ internal::trackbarValueToXPixel(theParams,\ theShape,\ theValue);}
\DoxyCodeLine{01957\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aIndicatorWidth\ =\ 3;}
\DoxyCodeLine{01958\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aIndicatorHeight\ =\ 4;}
\DoxyCodeLine{01959\ \ \ \ \ \ \ \ \ cv::Point\ aPoint1(aPixelX\ -\/\ aIndicatorWidth,\ aBarTopLeft.y\ -\/\ aIndicatorHeight);}
\DoxyCodeLine{01960\ \ \ \ \ \ \ \ \ cv::Point\ aPoint2(aPixelX\ +\ aIndicatorWidth,\ aBarTopLeft.y\ +\ aBarHeight\ +\ aIndicatorHeight);}
\DoxyCodeLine{01961\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(aPoint1,\ aPoint2);}
\DoxyCodeLine{01962\ }
\DoxyCodeLine{01963\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aFillColor\ =\ theState\ ==\ OVER\ ?\ 0x525252\ :\ 0x424242;}
\DoxyCodeLine{01964\ }
\DoxyCodeLine{01965\ \ \ \ \ \ \ \ \ rect(theBlock,\ aRect,\ 0x212121,\ 0x212121);}
\DoxyCodeLine{01966\ \ \ \ \ \ \ \ \ aRect.x\ +=\ 1;\ aRect.y\ +=\ 1;\ aRect.width\ -\/=\ 2;\ aRect.height\ -\/=\ 2;}
\DoxyCodeLine{01967\ \ \ \ \ \ \ \ \ rect(theBlock,\ aRect,\ 0x515151,\ aFillColor);}
\DoxyCodeLine{01968\ }
\DoxyCodeLine{01969\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aShowLabel\ =\ internal::bitsetHas(theParams.options,\ cvui::TRACKBAR\_HIDE\_VALUE\_LABEL)\ ==\ \textcolor{keyword}{false};}
\DoxyCodeLine{01970\ }
\DoxyCodeLine{01971\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Draw\ the\ handle\ label}}
\DoxyCodeLine{01972\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aShowLabel)\ \{}
\DoxyCodeLine{01973\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aTextPos(aPixelX,\ aPoint2.y\ +\ 11);}
\DoxyCodeLine{01974\ \ \ \ \ \ \ \ \ \ \ \ \ sprintf\_s(internal::gBuffer,\ theParams.labelFormat.c\_str(),\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\textcolor{keyword}{>}(theValue));}
\DoxyCodeLine{01975\ \ \ \ \ \ \ \ \ \ \ \ \ putTextCentered(theBlock,\ aTextPos,\ internal::gBuffer);}
\DoxyCodeLine{01976\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01977\ \ \ \ \ \}}
\DoxyCodeLine{01978\ }
\DoxyCodeLine{01979\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarPath(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea)\ \{}
\DoxyCodeLine{01980\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aBarHeight\ =\ 7;}
\DoxyCodeLine{01981\ \ \ \ \ \ \ \ \ cv::Point\ aBarTopLeft(theWorkingArea.x,\ theWorkingArea.y\ +\ theWorkingArea.height\ /\ 2);}
\DoxyCodeLine{01982\ \ \ \ \ \ \ \ \ cv::Rect\ aRect(aBarTopLeft,\ cv::Size(theWorkingArea.width,\ aBarHeight));}
\DoxyCodeLine{01983\ }
\DoxyCodeLine{01984\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aBorderColor\ =\ theState\ ==\ OVER\ ?\ 0x4e4e4e\ :\ 0x3e3e3e;}
\DoxyCodeLine{01985\ }
\DoxyCodeLine{01986\ \ \ \ \ \ \ \ \ rect(theBlock,\ aRect,\ aBorderColor,\ 0x292929);}
\DoxyCodeLine{01987\ \ \ \ \ \ \ \ \ cv::line(theBlock.where,\ cv::Point(aRect.x\ +\ 1,\ aRect.y\ +\ aBarHeight\ -\/\ 2),\ cv::Point(aRect.x\ +\ aRect.width\ -\/\ 2,\ aRect.y\ +\ aBarHeight\ -\/\ 2),\ cv::Scalar(0x0e,\ 0x0e,\ 0x0e));}
\DoxyCodeLine{01988\ \ \ \ \ \}}
\DoxyCodeLine{01989\ }
\DoxyCodeLine{01990\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSteps(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea)\ \{}
\DoxyCodeLine{01991\ \ \ \ \ \ \ \ \ cv::Point\ aBarTopLeft(theWorkingArea.x,\ theWorkingArea.y\ +\ theWorkingArea.height\ /\ 2);}
\DoxyCodeLine{01992\ \ \ \ \ \ \ \ \ cv::Scalar\ aColor(0x51,\ 0x51,\ 0x51);}
\DoxyCodeLine{01993\ }
\DoxyCodeLine{01994\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aDiscrete\ =\ internal::bitsetHas(theParams.options,\ cvui::TRACKBAR\_DISCRETE);}
\DoxyCodeLine{01995\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aFixedStep\ =\ aDiscrete\ ?\ theParams.step\ :\ (theParams.max\ -\/\ theParams.min)\ /\ 20;}
\DoxyCodeLine{01996\ }
\DoxyCodeLine{01997\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ check\ min,\ max\ and\ step\ to\ prevent\ infinite\ loop.}}
\DoxyCodeLine{01998\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aValue\ =\ theParams.min;\ aValue\ <=\ theParams.max;\ aValue\ +=\ aFixedStep)\ \{}
\DoxyCodeLine{01999\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aPixelX\ =\ internal::trackbarValueToXPixel(theParams,\ theShape,\ aValue);}
\DoxyCodeLine{02000\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aPoint1(aPixelX,\ aBarTopLeft.y);}
\DoxyCodeLine{02001\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aPoint2(aPixelX,\ aBarTopLeft.y\ -\/\ 3);}
\DoxyCodeLine{02002\ \ \ \ \ \ \ \ \ \ \ \ \ cv::line(theBlock.where,\ aPoint1,\ aPoint2,\ aColor);}
\DoxyCodeLine{02003\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02004\ \ \ \ \ \}}
\DoxyCodeLine{02005\ }
\DoxyCodeLine{02006\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSegmentLabel(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ theValue,\ cv::Rect\&\ theWorkingArea,\ \textcolor{keywordtype}{bool}\ theShowLabel)\ \{}
\DoxyCodeLine{02007\ \ \ \ \ \ \ \ \ cv::Scalar\ aColor(0x51,\ 0x51,\ 0x51);}
\DoxyCodeLine{02008\ \ \ \ \ \ \ \ \ cv::Point\ aBarTopLeft(theWorkingArea.x,\ theWorkingArea.y\ +\ theWorkingArea.height\ /\ 2);}
\DoxyCodeLine{02009\ }
\DoxyCodeLine{02010\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aPixelX\ =\ internal::trackbarValueToXPixel(theParams,\ theShape,\ theValue);}
\DoxyCodeLine{02011\ }
\DoxyCodeLine{02012\ \ \ \ \ \ \ \ \ cv::Point\ aPoint1(aPixelX,\ aBarTopLeft.y);}
\DoxyCodeLine{02013\ \ \ \ \ \ \ \ \ cv::Point\ aPoint2(aPixelX,\ aBarTopLeft.y\ -\/\ 8);}
\DoxyCodeLine{02014\ \ \ \ \ \ \ \ \ cv::line(theBlock.where,\ aPoint1,\ aPoint2,\ aColor);}
\DoxyCodeLine{02015\ }
\DoxyCodeLine{02016\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theShowLabel)}
\DoxyCodeLine{02017\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{02018\ \ \ \ \ \ \ \ \ \ \ \ \ sprintf\_s(internal::gBuffer,\ theParams.labelFormat.c\_str(),\ theValue);}
\DoxyCodeLine{02019\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aTextPos(aPixelX,\ aBarTopLeft.y\ -\/\ 11);}
\DoxyCodeLine{02020\ \ \ \ \ \ \ \ \ \ \ \ \ putTextCentered(theBlock,\ aTextPos,\ internal::gBuffer);}
\DoxyCodeLine{02021\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02022\ \ \ \}}
\DoxyCodeLine{02023\ }
\DoxyCodeLine{02024\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbarSegments(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams,\ cv::Rect\&\ theWorkingArea)\ \{}
\DoxyCodeLine{02025\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aSegments\ =\ theParams.segments\ <\ 1\ ?\ 1\ :\ theParams.segments;}
\DoxyCodeLine{02026\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aSegmentLength\ =\ (\textcolor{keywordtype}{long}\ double)(theParams.max\ -\/\ theParams.min)\ /\ (\textcolor{keywordtype}{long}\ double)aSegments;}
\DoxyCodeLine{02027\ }
\DoxyCodeLine{02028\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aHasMinMaxLabels\ =\ internal::bitsetHas(theParams.options,\ TRACKBAR\_HIDE\_MIN\_MAX\_LABELS)\ ==\ \textcolor{keyword}{false};}
\DoxyCodeLine{02029\ }
\DoxyCodeLine{02030\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ min\ value\ label}}
\DoxyCodeLine{02031\ \ \ \ \ \ \ \ \ trackbarSegmentLabel(theBlock,\ theShape,\ theParams,\ theParams.min,\ theWorkingArea,\ aHasMinMaxLabels);}
\DoxyCodeLine{02032\ }
\DoxyCodeLine{02033\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Draw\ large\ steps\ and\ labels}}
\DoxyCodeLine{02034\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aHasSegmentLabels\ =\ internal::bitsetHas(theParams.options,\ TRACKBAR\_HIDE\_SEGMENT\_LABELS)\ ==\ \textcolor{keyword}{false};}
\DoxyCodeLine{02035\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ check\ min,\ max\ and\ step\ to\ prevent\ infinite\ loop.}}
\DoxyCodeLine{02036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{double}\ aValue\ =\ theParams.min;\ aValue\ <=\ theParams.max;\ aValue\ +=\ aSegmentLength)\ \{}
\DoxyCodeLine{02037\ \ \ \ \ \ \ \ \ \ \ \ \ trackbarSegmentLabel(theBlock,\ theShape,\ theParams,\ aValue,\ theWorkingArea,\ aHasSegmentLabels);}
\DoxyCodeLine{02038\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02039\ }
\DoxyCodeLine{02040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ max\ value\ label}}
\DoxyCodeLine{02041\ \ \ \ \ \ \ \ \ trackbarSegmentLabel(theBlock,\ theShape,\ theParams,\ theParams.max,\ theWorkingArea,\ aHasMinMaxLabels);}
\DoxyCodeLine{02042\ \ \ \ \ \}}
\DoxyCodeLine{02043\ }
\DoxyCodeLine{02044\ \ \ \ \ \textcolor{keywordtype}{void}\ trackbar(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape,\ \textcolor{keywordtype}{double}\ theValue,\ \textcolor{keyword}{const}\ internal::TrackbarParams\ \&theParams)\ \{}
\DoxyCodeLine{02045\ \ \ \ \ \ \ \ \ cv::Rect\ aWorkingArea(theShape.x\ +\ internal::gTrackbarMarginX,\ theShape.y,\ theShape.width\ -\/\ 2\ *\ internal::gTrackbarMarginX,\ theShape.height);}
\DoxyCodeLine{02046\ }
\DoxyCodeLine{02047\ \ \ \ \ \ \ \ \ trackbarPath(theBlock,\ theState,\ theShape,\ theValue,\ theParams,\ aWorkingArea);}
\DoxyCodeLine{02048\ }
\DoxyCodeLine{02049\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aHideAllLabels\ =\ internal::bitsetHas(theParams.options,\ cvui::TRACKBAR\_HIDE\_LABELS);}
\DoxyCodeLine{02050\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aShowSteps\ =\ internal::bitsetHas(theParams.options,\ cvui::TRACKBAR\_HIDE\_STEP\_SCALE)\ ==\ \textcolor{keyword}{false};}
\DoxyCodeLine{02051\ }
\DoxyCodeLine{02052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aShowSteps\ \&\&\ !aHideAllLabels)\ \{}
\DoxyCodeLine{02053\ \ \ \ \ \ \ \ \ \ \ \ \ trackbarSteps(theBlock,\ theState,\ theShape,\ theValue,\ theParams,\ aWorkingArea);}
\DoxyCodeLine{02054\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02055\ }
\DoxyCodeLine{02056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!aHideAllLabels)\ \{}
\DoxyCodeLine{02057\ \ \ \ \ \ \ \ \ \ \ \ \ trackbarSegments(theBlock,\ theState,\ theShape,\ theValue,\ theParams,\ aWorkingArea);}
\DoxyCodeLine{02058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02059\ }
\DoxyCodeLine{02060\ \ \ \ \ \ \ \ \ trackbarHandle(theBlock,\ theState,\ theShape,\ theValue,\ theParams,\ aWorkingArea);}
\DoxyCodeLine{02061\ \ \ \ \ \}}
\DoxyCodeLine{02062\ }
\DoxyCodeLine{02063\ \ \ \ \ \textcolor{keywordtype}{void}\ checkbox(cvui\_block\_t\&\ theBlock,\ \textcolor{keywordtype}{int}\ theState,\ cv::Rect\&\ theShape)\ \{}
\DoxyCodeLine{02064\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Outline}}
\DoxyCodeLine{02065\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ theState\ ==\ OUT\ ?\ cv::Scalar(0x63,\ 0x63,\ 0x63)\ :\ cv::Scalar(0x80,\ 0x80,\ 0x80));}
\DoxyCodeLine{02066\ }
\DoxyCodeLine{02067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Border}}
\DoxyCodeLine{02068\ \ \ \ \ \ \ \ \ theShape.x++;\ theShape.y++;\ theShape.width\ -\/=\ 2;\ theShape.height\ -\/=\ 2;}
\DoxyCodeLine{02069\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x17,\ 0x17,\ 0x17));}
\DoxyCodeLine{02070\ }
\DoxyCodeLine{02071\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Inside}}
\DoxyCodeLine{02072\ \ \ \ \ \ \ \ \ theShape.x++;\ theShape.y++;\ theShape.width\ -\/=\ 2;\ theShape.height\ -\/=\ 2;}
\DoxyCodeLine{02073\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0x29,\ 0x29,\ 0x29),\ CVUI\_FILLED);}
\DoxyCodeLine{02074\ \ \ \ \ \}}
\DoxyCodeLine{02075\ }
\DoxyCodeLine{02076\ \ \ \ \ \textcolor{keywordtype}{void}\ checkboxLabel(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theRect,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ cv::Size\&\ theTextSize,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02077\ \ \ \ \ \ \ \ \ cv::Point\ aPos(theRect.x\ +\ theRect.width\ +\ 6,\ theRect.y\ +\ theTextSize.height\ +\ theRect.height\ /\ 2\ -\/\ theTextSize.height\ /\ 2\ -\/\ 1);}
\DoxyCodeLine{02078\ \ \ \ \ \ \ \ \ text(theBlock,\ theLabel,\ aPos,\ 0.4,\ theColor);}
\DoxyCodeLine{02079\ \ \ \ \ \}}
\DoxyCodeLine{02080\ }
\DoxyCodeLine{02081\ \ \ \ \ \textcolor{keywordtype}{void}\ checkboxCheck(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theShape)\ \{}
\DoxyCodeLine{02082\ \ \ \ \ \ \ \ \ theShape.x++;\ theShape.y++;\ theShape.width\ -\/=\ 2;\ theShape.height\ -\/=\ 2;}
\DoxyCodeLine{02083\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theShape,\ cv::Scalar(0xFF,\ 0xBF,\ 0x75),\ CVUI\_FILLED);}
\DoxyCodeLine{02084\ \ \ \ \ \}}
\DoxyCodeLine{02085\ }
\DoxyCodeLine{02086\ \ \ \ \ \textcolor{keywordtype}{void}\ window(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ theTitleBar,\ cv::Rect\&\ theContent,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle)\ \{}
\DoxyCodeLine{02087\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aTransparecy\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02088\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aAlpha\ =\ 0.3;}
\DoxyCodeLine{02089\ \ \ \ \ \ \ \ \ cv::Mat\ aOverlay\ =\ cv::Mat(theBlock.where.size(),\ theBlock.where.type());}
\DoxyCodeLine{02090\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{02091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ title\ bar.}}
\DoxyCodeLine{02092\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ the\ border}}
\DoxyCodeLine{02093\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theTitleBar,\ cv::Scalar(0x4A,\ 0x4A,\ 0x4A));}
\DoxyCodeLine{02094\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ the\ inside}}
\DoxyCodeLine{02095\ \ \ \ \ \ \ \ \ theTitleBar.x++;\ theTitleBar.y++;\ theTitleBar.width\ -\/=\ 2;\ theTitleBar.height\ -\/=\ 2;}
\DoxyCodeLine{02096\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theTitleBar,\ cv::Scalar(0x21,\ 0x21,\ 0x21),\ CVUI\_FILLED);}
\DoxyCodeLine{02097\ }
\DoxyCodeLine{02098\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ title\ text.}}
\DoxyCodeLine{02099\ \ \ \ \ \ \ \ \ cv::Point\ aPos(theTitleBar.x\ +\ 5,\ theTitleBar.y\ +\ 12);}
\DoxyCodeLine{02100\ \ \ \ \ \ \ \ \ cv::putText(theBlock.where,\ theTitle,\ aPos,\ cv::FONT\_HERSHEY\_SIMPLEX,\ 0.4,\ cv::Scalar(0xCE,\ 0xCE,\ 0xCE),\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{02101\ }
\DoxyCodeLine{02102\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ body.}}
\DoxyCodeLine{02103\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ the\ border.}}
\DoxyCodeLine{02104\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theContent,\ cv::Scalar(0x4A,\ 0x4A,\ 0x4A));}
\DoxyCodeLine{02105\ }
\DoxyCodeLine{02106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Then\ the\ filling.}}
\DoxyCodeLine{02107\ \ \ \ \ \ \ \ \ theContent.x++;\ theContent.y++;\ theContent.width\ -\/=\ 2;\ theContent.height\ -\/=\ 2;}
\DoxyCodeLine{02108\ \ \ \ \ \ \ \ \ cv::rectangle(aOverlay,\ theContent,\ cv::Scalar(0x31,\ 0x31,\ 0x31),\ CVUI\_FILLED);}
\DoxyCodeLine{02109\ }
\DoxyCodeLine{02110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aTransparecy)\ \{}
\DoxyCodeLine{02111\ \ \ \ \ \ \ \ \ \ \ \ \ theBlock.where.copyTo(aOverlay);}
\DoxyCodeLine{02112\ \ \ \ \ \ \ \ \ \ \ \ \ cv::rectangle(aOverlay,\ theContent,\ cv::Scalar(0x31,\ 0x31,\ 0x31),\ CVUI\_FILLED);}
\DoxyCodeLine{02113\ \ \ \ \ \ \ \ \ \ \ \ \ cv::addWeighted(aOverlay,\ aAlpha,\ theBlock.where,\ 1.0\ -\/\ aAlpha,\ 0.0,\ theBlock.where);}
\DoxyCodeLine{02114\ }
\DoxyCodeLine{02115\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02117\ \ \ \ \ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ theContent,\ cv::Scalar(0x31,\ 0x31,\ 0x31),\ CVUI\_FILLED);}
\DoxyCodeLine{02118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02119\ \ \ \ \ \}}
\DoxyCodeLine{02120\ }
\DoxyCodeLine{02121\ \ \ \ \ \textcolor{keywordtype}{void}\ rect(cvui\_block\_t\&\ theBlock,\ cv::Rect\&\ thePos,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor)\ \{}
\DoxyCodeLine{02122\ \ \ \ \ \ \ \ \ cv::Scalar\ aBorder\ =\ internal::hexToScalar(theBorderColor);}
\DoxyCodeLine{02123\ \ \ \ \ \ \ \ \ cv::Scalar\ aFilling\ =\ internal::hexToScalar(theFillingColor);}
\DoxyCodeLine{02124\ }
\DoxyCodeLine{02125\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ aHasFilling\ =\ aFilling[3]\ !=\ 0xff;}
\DoxyCodeLine{02126\ }
\DoxyCodeLine{02127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aHasFilling)\ \{}
\DoxyCodeLine{02128\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aFilling[3]\ ==\ 0x00)\ \{}
\DoxyCodeLine{02129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ full\ opacity}}
\DoxyCodeLine{02130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ thePos,\ aFilling,\ CVUI\_FILLED,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{02131\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02132\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{02133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cv::Rect\ aClippedRect\ =\ thePos\ \&\ cv::Rect(cv::Point(0,\ 0),\ theBlock.where.size());}
\DoxyCodeLine{02134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aAlpha\ =\ 1.00\ -\/\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(aFilling[3])\ /\ 255;}
\DoxyCodeLine{02135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cv::Mat\ aOverlay(aClippedRect.size(),\ theBlock.where.type(),\ aFilling);}
\DoxyCodeLine{02136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cv::addWeighted(aOverlay,\ aAlpha,\ theBlock.where(aClippedRect),\ 1.00\ -\/\ aAlpha,\ 0.0,\ theBlock.where(aClippedRect));}
\DoxyCodeLine{02137\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02139\ }
\DoxyCodeLine{02140\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Render\ the\ border}}
\DoxyCodeLine{02141\ \ \ \ \ \ \ \ \ cv::rectangle(theBlock.where,\ thePos,\ aBorder,\ 1,\ CVUI\_ANTIALISED);}
\DoxyCodeLine{02142\ \ \ \ \ \}}
\DoxyCodeLine{02143\ }
\DoxyCodeLine{02144\ \ \ \ \ \textcolor{keywordtype}{void}\ sparkline(cvui\_block\_t\&\ theBlock,\ std::vector<double>\&\ theValues,\ cv::Rect\ \&theRect,\ \textcolor{keywordtype}{double}\ theMin,\ \textcolor{keywordtype}{double}\ theMax,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02145\ \ \ \ \ \ \ \ \ std::vector<double>::size\_type\ aSize\ =\ theValues.size(),\ i;}
\DoxyCodeLine{02146\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ aGap,\ aPosX,\ aScale\ =\ 0,\ x,\ y;}
\DoxyCodeLine{02147\ }
\DoxyCodeLine{02148\ \ \ \ \ \ \ \ \ aScale\ =\ theMax\ -\/\ theMin;}
\DoxyCodeLine{02149\ \ \ \ \ \ \ \ \ aGap\ =\ (double)theRect.width\ /\ aSize;}
\DoxyCodeLine{02150\ \ \ \ \ \ \ \ \ aPosX\ =\ theRect.x;}
\DoxyCodeLine{02151\ }
\DoxyCodeLine{02152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <=\ aSize\ -\/\ 2;\ i++)\ \{}
\DoxyCodeLine{02153\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ aPosX;}
\DoxyCodeLine{02154\ \ \ \ \ \ \ \ \ \ \ \ \ y\ =\ (theValues[i]\ -\/\ theMin)\ /\ aScale\ *\ -\/(theRect.height\ -\/\ 5)\ +\ theRect.y\ +\ theRect.height\ -\/\ 5;}
\DoxyCodeLine{02155\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aPoint1((\textcolor{keywordtype}{int})x,\ (\textcolor{keywordtype}{int})y);}
\DoxyCodeLine{02156\ }
\DoxyCodeLine{02157\ \ \ \ \ \ \ \ \ \ \ \ \ x\ =\ aPosX\ +\ aGap;}
\DoxyCodeLine{02158\ \ \ \ \ \ \ \ \ \ \ \ \ y\ =\ (theValues[i\ +\ 1]\ -\/\ theMin)\ /\ aScale\ *\ -\/(theRect.height\ -\/\ 5)\ +\ theRect.y\ +\ theRect.height\ -\/\ 5;}
\DoxyCodeLine{02159\ \ \ \ \ \ \ \ \ \ \ \ \ cv::Point\ aPoint2((\textcolor{keywordtype}{int})x,\ (\textcolor{keywordtype}{int})y);}
\DoxyCodeLine{02160\ }
\DoxyCodeLine{02161\ \ \ \ \ \ \ \ \ \ \ \ \ cv::line(theBlock.where,\ aPoint1,\ aPoint2,\ internal::hexToScalar(theColor));}
\DoxyCodeLine{02162\ \ \ \ \ \ \ \ \ \ \ \ \ aPosX\ +=\ aGap;}
\DoxyCodeLine{02163\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02164\ \ \ \ \ \}}
\DoxyCodeLine{02165\ \}\ \textcolor{comment}{//\ namespace\ render}}
\DoxyCodeLine{02166\ }
\DoxyCodeLine{02167\ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theDelayWaitKey,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindow)\ \{}
\DoxyCodeLine{02168\ \ \ \ \ internal::init(theWindowName,\ theDelayWaitKey);}
\DoxyCodeLine{02169\ \ \ \ \ watch(theWindowName,\ theCreateNamedWindow);}
\DoxyCodeLine{02170\ \}}
\DoxyCodeLine{02171\ }
\DoxyCodeLine{02172\ \textcolor{keywordtype}{void}\ init(\textcolor{keyword}{const}\ cv::String\ theWindowNames[],\ \textcolor{keywordtype}{size\_t}\ theHowManyWindows,\ \textcolor{keywordtype}{int}\ theDelayWaitKey,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindows)\ \{}
\DoxyCodeLine{02173\ \ \ \ \ internal::init(theWindowNames[0],\ theDelayWaitKey);}
\DoxyCodeLine{02174\ }
\DoxyCodeLine{02175\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ theHowManyWindows;\ i++)\ \{}
\DoxyCodeLine{02176\ \ \ \ \ \ \ \ \ watch(theWindowNames[i],\ theCreateNamedWindows);}
\DoxyCodeLine{02177\ \ \ \ \ \}}
\DoxyCodeLine{02178\ \}}
\DoxyCodeLine{02179\ }
\DoxyCodeLine{02180\ \textcolor{keywordtype}{void}\ watch(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{bool}\ theCreateNamedWindow)\ \{}
\DoxyCodeLine{02181\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}}\ aContex;}
\DoxyCodeLine{02182\ }
\DoxyCodeLine{02183\ \ \ \ \ \textcolor{keywordflow}{if}\ (theCreateNamedWindow)\ \{}
\DoxyCodeLine{02184\ \ \ \ \ \ \ \ \ cv::namedWindow(theWindowName);}
\DoxyCodeLine{02185\ \ \ \ \ \}}
\DoxyCodeLine{02186\ }
\DoxyCodeLine{02187\ \ \ \ \ aContex.windowName\ =\ theWindowName;}
\DoxyCodeLine{02188\ \ \ \ \ aContex.mouse.position.x\ =\ 0;}
\DoxyCodeLine{02189\ \ \ \ \ aContex.mouse.position.y\ =\ 0;}
\DoxyCodeLine{02190\ \ \ \ \ }
\DoxyCodeLine{02191\ \ \ \ \ internal::resetMouseButton(aContex.mouse.anyButton);}
\DoxyCodeLine{02192\ \ \ \ \ internal::resetMouseButton(aContex.mouse.buttons[RIGHT\_BUTTON]);}
\DoxyCodeLine{02193\ \ \ \ \ internal::resetMouseButton(aContex.mouse.buttons[MIDDLE\_BUTTON]);}
\DoxyCodeLine{02194\ \ \ \ \ internal::resetMouseButton(aContex.mouse.buttons[LEFT\_BUTTON]);}
\DoxyCodeLine{02195\ }
\DoxyCodeLine{02196\ \ \ \ \ internal::gContexts[theWindowName]\ =\ aContex;}
\DoxyCodeLine{02197\ \ \ \ \ cv::setMouseCallback(theWindowName,\ handleMouse,\ \&internal::gContexts[theWindowName]);}
\DoxyCodeLine{02198\ \}}
\DoxyCodeLine{02199\ }
\DoxyCodeLine{02200\ \textcolor{keywordtype}{void}\ context(\textcolor{keyword}{const}\ cv::String\&\ theWindowName)\ \{}
\DoxyCodeLine{02201\ \ \ \ \ internal::gCurrentContext\ =\ theWindowName;}
\DoxyCodeLine{02202\ \}}
\DoxyCodeLine{02203\ }
\DoxyCodeLine{02204\ \textcolor{keywordtype}{void}\ imshow(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ cv::InputArray\ theFrame)\ \{}
\DoxyCodeLine{02205\ \ \ \ \ cvui::update(theWindowName);}
\DoxyCodeLine{02206\ \ \ \ \ cv::imshow(theWindowName,\ theFrame);}
\DoxyCodeLine{02207\ \}}
\DoxyCodeLine{02208\ }
\DoxyCodeLine{02209\ \textcolor{keywordtype}{int}\ lastKeyPressed()\ \{}
\DoxyCodeLine{02210\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::gLastKeyPressed;}
\DoxyCodeLine{02211\ \}}
\DoxyCodeLine{02212\ }
\DoxyCodeLine{02213\ cv::Point\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName)\ \{}
\DoxyCodeLine{02214\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::getContext(theWindowName).mouse.position;}
\DoxyCodeLine{02215\ \}}
\DoxyCodeLine{02216\ }
\DoxyCodeLine{02217\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keywordtype}{int}\ theQuery)\ \{}
\DoxyCodeLine{02218\ \ \ \ \ \textcolor{keywordflow}{return}\ mouse(\textcolor{stringliteral}{"{}"{}},\ theQuery);}
\DoxyCodeLine{02219\ \}}
\DoxyCodeLine{02220\ }
\DoxyCodeLine{02221\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theQuery)\ \{}
\DoxyCodeLine{02222\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\&\ aButton\ =\ internal::getContext(theWindowName).mouse.anyButton;}
\DoxyCodeLine{02223\ \ \ \ \ \textcolor{keywordtype}{bool}\ aRet\ =\ internal::isMouseButton(aButton,\ theQuery);}
\DoxyCodeLine{02224\ }
\DoxyCodeLine{02225\ \ \ \ \ \textcolor{keywordflow}{return}\ aRet;}
\DoxyCodeLine{02226\ \}}
\DoxyCodeLine{02227\ }
\DoxyCodeLine{02228\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keywordtype}{int}\ theButton,\ \textcolor{keywordtype}{int}\ theQuery)\ \{}
\DoxyCodeLine{02229\ \ \ \ \ \textcolor{keywordflow}{return}\ mouse(\textcolor{stringliteral}{"{}"{}},\ theButton,\ theQuery);}
\DoxyCodeLine{02230\ \}}
\DoxyCodeLine{02231\ }
\DoxyCodeLine{02232\ \textcolor{keywordtype}{bool}\ mouse(\textcolor{keyword}{const}\ cv::String\&\ theWindowName,\ \textcolor{keywordtype}{int}\ theButton,\ \textcolor{keywordtype}{int}\ theQuery)\ \{}
\DoxyCodeLine{02233\ \ \ \ \ \textcolor{keywordflow}{if}\ (theButton\ !=\ RIGHT\_BUTTON\ \&\&\ theButton\ !=\ MIDDLE\_BUTTON\ \&\&\ theButton\ !=\ LEFT\_BUTTON)\ \{}
\DoxyCodeLine{02234\ \ \ \ \ \ \ \ \ internal::error(6,\ \textcolor{stringliteral}{"{}Invalid\ mouse\ button.\ Are\ you\ using\ one\ of\ the\ available:\ cvui::\{RIGHT,MIDDLE,LEFT\}\_BUTTON\ ?"{}});}
\DoxyCodeLine{02235\ \ \ \ \ \}}
\DoxyCodeLine{02236\ }
\DoxyCodeLine{02237\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__mouse__btn__t}{cvui\_mouse\_btn\_t}}\&\ aButton\ =\ internal::getContext(theWindowName).mouse.buttons[theButton];}
\DoxyCodeLine{02238\ \ \ \ \ \textcolor{keywordtype}{bool}\ aRet\ =\ internal::isMouseButton(aButton,\ theQuery);}
\DoxyCodeLine{02239\ }
\DoxyCodeLine{02240\ \ \ \ \ \textcolor{keywordflow}{return}\ aRet;}
\DoxyCodeLine{02241\ \}}
\DoxyCodeLine{02242\ }
\DoxyCodeLine{02243\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{02244\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02245\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(internal::gScreen,\ theX,\ theY,\ theLabel);}
\DoxyCodeLine{02246\ \}}
\DoxyCodeLine{02247\ }
\DoxyCodeLine{02248\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{02249\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02250\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(internal::gScreen,\ theX,\ theY,\ theWidth,\ theHeight,\ theLabel,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02251\ \}}
\DoxyCodeLine{02252\ }
\DoxyCodeLine{02253\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown)\ \{}
\DoxyCodeLine{02254\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02255\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(internal::gScreen,\ theX,\ theY,\ theIdle,\ theOver,\ theDown,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02256\ \}}
\DoxyCodeLine{02257\ }
\DoxyCodeLine{02258\ \textcolor{keywordtype}{void}\ image(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ cv::Mat\&\ theImage)\ \{}
\DoxyCodeLine{02259\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02260\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::image(internal::gScreen,\ theX,\ theY,\ theImage);}
\DoxyCodeLine{02261\ \}}
\DoxyCodeLine{02262\ }
\DoxyCodeLine{02263\ \textcolor{keywordtype}{bool}\ checkbox(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02264\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02265\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::checkbox(internal::gScreen,\ theX,\ theY,\ theLabel,\ theState,\ theColor);}
\DoxyCodeLine{02266\ \}}
\DoxyCodeLine{02267\ }
\DoxyCodeLine{02268\ \textcolor{keywordtype}{void}\ text(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02269\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02270\ \ \ \ \ internal::text(internal::gScreen,\ theX,\ theY,\ theText,\ theFontScale,\ theColor,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02271\ \}}
\DoxyCodeLine{02272\ }
\DoxyCodeLine{02273\ \textcolor{keywordtype}{void}\ printf(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...)\ \{}
\DoxyCodeLine{02274\ \ \ \ \ va\_list\ aArgs;}
\DoxyCodeLine{02275\ }
\DoxyCodeLine{02276\ \ \ \ \ va\_start(aArgs,\ theFmt);}
\DoxyCodeLine{02277\ \ \ \ \ vsprintf\_s(internal::gBuffer,\ theFmt,\ aArgs);}
\DoxyCodeLine{02278\ \ \ \ \ va\_end(aArgs);}
\DoxyCodeLine{02279\ }
\DoxyCodeLine{02280\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02281\ \ \ \ \ internal::text(internal::gScreen,\ theX,\ theY,\ internal::gBuffer,\ theFontScale,\ theColor,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02282\ \}}
\DoxyCodeLine{02283\ }
\DoxyCodeLine{02284\ \textcolor{keywordtype}{void}\ printf(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...)\ \{}
\DoxyCodeLine{02285\ \ \ \ \ va\_list\ aArgs;}
\DoxyCodeLine{02286\ }
\DoxyCodeLine{02287\ \ \ \ \ va\_start(aArgs,\ theFmt);}
\DoxyCodeLine{02288\ \ \ \ \ vsprintf\_s(internal::gBuffer,\ theFmt,\ aArgs);}
\DoxyCodeLine{02289\ \ \ \ \ va\_end(aArgs);}
\DoxyCodeLine{02290\ }
\DoxyCodeLine{02291\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02292\ \ \ \ \ internal::text(internal::gScreen,\ theX,\ theY,\ internal::gBuffer,\ 0.4,\ 0xCECECE,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02293\ \}}
\DoxyCodeLine{02294\ }
\DoxyCodeLine{02295\ \textcolor{keywordtype}{int}\ counter(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{02296\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02297\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::counter(internal::gScreen,\ theX,\ theY,\ theValue,\ theStep,\ theFormat);}
\DoxyCodeLine{02298\ \}}
\DoxyCodeLine{02299\ }
\DoxyCodeLine{02300\ \textcolor{keywordtype}{double}\ counter(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{02301\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02302\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::counter(internal::gScreen,\ theX,\ theY,\ theValue,\ theStep,\ theFormat);}
\DoxyCodeLine{02303\ \}}
\DoxyCodeLine{02304\ }
\DoxyCodeLine{02305\ \textcolor{keywordtype}{void}\ window(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle)\ \{}
\DoxyCodeLine{02306\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02307\ \ \ \ \ internal::window(internal::gScreen,\ theX,\ theY,\ theWidth,\ theHeight,\ theTitle);}
\DoxyCodeLine{02308\ \}}
\DoxyCodeLine{02309\ }
\DoxyCodeLine{02310\ \textcolor{keywordtype}{void}\ rect(cv::Mat\&\ theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor)\ \{}
\DoxyCodeLine{02311\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02312\ \ \ \ \ internal::rect(internal::gScreen,\ theX,\ theY,\ theWidth,\ theHeight,\ theBorderColor,\ theFillingColor);}
\DoxyCodeLine{02313\ \}}
\DoxyCodeLine{02314\ }
\DoxyCodeLine{02315\ \textcolor{keywordtype}{void}\ sparkline(cv::Mat\&\ theWhere,\ std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02316\ \ \ \ \ internal::gScreen.where\ =\ theWhere;}
\DoxyCodeLine{02317\ \ \ \ \ internal::sparkline(internal::gScreen,\ theValues,\ theX,\ theY,\ theWidth,\ theHeight,\ theColor);}
\DoxyCodeLine{02318\ \}}
\DoxyCodeLine{02319\ }
\DoxyCodeLine{02320\ \textcolor{keywordtype}{int}\ iarea(\textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight)\ \{}
\DoxyCodeLine{02321\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::iarea(theX,\ theY,\ theWidth,\ theHeight);}
\DoxyCodeLine{02322\ \}}
\DoxyCodeLine{02323\ }
\DoxyCodeLine{02324\ \textcolor{keywordtype}{void}\ beginRow(cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding)\ \{}
\DoxyCodeLine{02325\ \ \ \ \ internal::begin(ROW,\ theWhere,\ theX,\ theY,\ theWidth,\ theHeight,\ thePadding);}
\DoxyCodeLine{02326\ \}}
\DoxyCodeLine{02327\ }
\DoxyCodeLine{02328\ \textcolor{keywordtype}{void}\ endRow()\ \{}
\DoxyCodeLine{02329\ \ \ \ \ internal::end(ROW);}
\DoxyCodeLine{02330\ \}}
\DoxyCodeLine{02331\ }
\DoxyCodeLine{02332\ \textcolor{keywordtype}{void}\ beginColumn(cv::Mat\ \&theWhere,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding)\ \{}
\DoxyCodeLine{02333\ \ \ \ \ internal::begin(COLUMN,\ theWhere,\ theX,\ theY,\ theWidth,\ theHeight,\ thePadding);}
\DoxyCodeLine{02334\ \}}
\DoxyCodeLine{02335\ }
\DoxyCodeLine{02336\ \textcolor{keywordtype}{void}\ endColumn()\ \{}
\DoxyCodeLine{02337\ \ \ \ \ internal::end(COLUMN);}
\DoxyCodeLine{02338\ \}}
\DoxyCodeLine{02339\ }
\DoxyCodeLine{02340\ \textcolor{keywordtype}{void}\ beginRow(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding)\ \{}
\DoxyCodeLine{02341\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02342\ \ \ \ \ internal::begin(ROW,\ aBlock.where,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ thePadding);}
\DoxyCodeLine{02343\ \}}
\DoxyCodeLine{02344\ }
\DoxyCodeLine{02345\ \textcolor{keywordtype}{void}\ beginColumn(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{int}\ thePadding)\ \{}
\DoxyCodeLine{02346\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02347\ \ \ \ \ internal::begin(COLUMN,\ aBlock.where,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ thePadding);}
\DoxyCodeLine{02348\ \}}
\DoxyCodeLine{02349\ }
\DoxyCodeLine{02350\ \textcolor{keywordtype}{void}\ space(\textcolor{keywordtype}{int}\ theValue)\ \{}
\DoxyCodeLine{02351\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02352\ \ \ \ \ cv::Size\ aSize(theValue,\ theValue);}
\DoxyCodeLine{02353\ }
\DoxyCodeLine{02354\ \ \ \ \ internal::updateLayoutFlow(aBlock,\ aSize);}
\DoxyCodeLine{02355\ \}}
\DoxyCodeLine{02356\ }
\DoxyCodeLine{02357\ \textcolor{keywordtype}{bool}\ button(\textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{02358\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02359\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theLabel);}
\DoxyCodeLine{02360\ \}}
\DoxyCodeLine{02361\ }
\DoxyCodeLine{02362\ \textcolor{keywordtype}{bool}\ button(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theLabel)\ \{}
\DoxyCodeLine{02363\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02364\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ theLabel,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02365\ \}}
\DoxyCodeLine{02366\ }
\DoxyCodeLine{02367\ \textcolor{keywordtype}{bool}\ button(cv::Mat\&\ theIdle,\ cv::Mat\&\ theOver,\ cv::Mat\&\ theDown)\ \{}
\DoxyCodeLine{02368\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02369\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::button(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theIdle,\ theOver,\ theDown,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02370\ \}}
\DoxyCodeLine{02371\ }
\DoxyCodeLine{02372\ \textcolor{keywordtype}{void}\ image(cv::Mat\&\ theImage)\ \{}
\DoxyCodeLine{02373\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02374\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::image(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theImage);}
\DoxyCodeLine{02375\ \}}
\DoxyCodeLine{02376\ }
\DoxyCodeLine{02377\ \textcolor{keywordtype}{bool}\ checkbox(\textcolor{keyword}{const}\ cv::String\&\ theLabel,\ \textcolor{keywordtype}{bool}\ *theState,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02378\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02379\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::checkbox(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theLabel,\ theState,\ theColor);}
\DoxyCodeLine{02380\ \}}
\DoxyCodeLine{02381\ }
\DoxyCodeLine{02382\ \textcolor{keywordtype}{void}\ text(\textcolor{keyword}{const}\ cv::String\&\ theText,\ \textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02383\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02384\ \ \ \ \ internal::text(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theText,\ theFontScale,\ theColor,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02385\ \}}
\DoxyCodeLine{02386\ }
\DoxyCodeLine{02387\ \textcolor{keywordtype}{void}\ printf(\textcolor{keywordtype}{double}\ theFontScale,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...)\ \{}
\DoxyCodeLine{02388\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02389\ \ \ \ \ va\_list\ aArgs;}
\DoxyCodeLine{02390\ }
\DoxyCodeLine{02391\ \ \ \ \ va\_start(aArgs,\ theFmt);}
\DoxyCodeLine{02392\ \ \ \ \ vsprintf\_s(internal::gBuffer,\ theFmt,\ aArgs);}
\DoxyCodeLine{02393\ \ \ \ \ va\_end(aArgs);}
\DoxyCodeLine{02394\ }
\DoxyCodeLine{02395\ \ \ \ \ internal::text(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ internal::gBuffer,\ theFontScale,\ theColor,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02396\ \}}
\DoxyCodeLine{02397\ }
\DoxyCodeLine{02398\ \textcolor{keywordtype}{void}\ printf(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFmt,\ ...)\ \{}
\DoxyCodeLine{02399\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02400\ \ \ \ \ va\_list\ aArgs;}
\DoxyCodeLine{02401\ }
\DoxyCodeLine{02402\ \ \ \ \ va\_start(aArgs,\ theFmt);}
\DoxyCodeLine{02403\ \ \ \ \ vsprintf\_s(internal::gBuffer,\ theFmt,\ aArgs);}
\DoxyCodeLine{02404\ \ \ \ \ va\_end(aArgs);}
\DoxyCodeLine{02405\ }
\DoxyCodeLine{02406\ \ \ \ \ internal::text(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ internal::gBuffer,\ 0.4,\ 0xCECECE,\ \textcolor{keyword}{true});}
\DoxyCodeLine{02407\ \}}
\DoxyCodeLine{02408\ }
\DoxyCodeLine{02409\ \textcolor{keywordtype}{int}\ counter(\textcolor{keywordtype}{int}\ *theValue,\ \textcolor{keywordtype}{int}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{02410\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02411\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::counter(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theValue,\ theStep,\ theFormat);}
\DoxyCodeLine{02412\ \}}
\DoxyCodeLine{02413\ }
\DoxyCodeLine{02414\ \textcolor{keywordtype}{double}\ counter(\textcolor{keywordtype}{double}\ *theValue,\ \textcolor{keywordtype}{double}\ theStep,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *theFormat)\ \{}
\DoxyCodeLine{02415\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02416\ \ \ \ \ \textcolor{keywordflow}{return}\ internal::counter(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theValue,\ theStep,\ theFormat);}
\DoxyCodeLine{02417\ \}}
\DoxyCodeLine{02418\ }
\DoxyCodeLine{02419\ \textcolor{keywordtype}{void}\ window(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keyword}{const}\ cv::String\&\ theTitle)\ \{}
\DoxyCodeLine{02420\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02421\ \ \ \ \ internal::window(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ theTitle);}
\DoxyCodeLine{02422\ \}}
\DoxyCodeLine{02423\ }
\DoxyCodeLine{02424\ \textcolor{keywordtype}{void}\ rect(\textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theBorderColor,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theFillingColor)\ \{}
\DoxyCodeLine{02425\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02426\ \ \ \ \ internal::rect(aBlock,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ theBorderColor,\ theFillingColor);}
\DoxyCodeLine{02427\ \}}
\DoxyCodeLine{02428\ }
\DoxyCodeLine{02429\ \textcolor{keywordtype}{void}\ sparkline(std::vector<double>\&\ theValues,\ \textcolor{keywordtype}{int}\ theWidth,\ \textcolor{keywordtype}{int}\ theHeight,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ theColor)\ \{}
\DoxyCodeLine{02430\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__block__t}{cvui\_block\_t}}\&\ aBlock\ =\ internal::topBlock();}
\DoxyCodeLine{02431\ \ \ \ \ internal::sparkline(aBlock,\ theValues,\ aBlock.anchor.x,\ aBlock.anchor.y,\ theWidth,\ theHeight,\ theColor);}
\DoxyCodeLine{02432\ \}}
\DoxyCodeLine{02433\ }
\DoxyCodeLine{02434\ \textcolor{keywordtype}{void}\ update(\textcolor{keyword}{const}\ cv::String\&\ theWindowName)\ \{}
\DoxyCodeLine{02435\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}}\&\ aContext\ =\ internal::getContext(theWindowName);}
\DoxyCodeLine{02436\ }
\DoxyCodeLine{02437\ \ \ \ \ aContext.mouse.anyButton.justReleased\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02438\ \ \ \ \ aContext.mouse.anyButton.justPressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02439\ }
\DoxyCodeLine{02440\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ cvui::LEFT\_BUTTON;\ i\ <=\ cvui::RIGHT\_BUTTON;\ i++)\ \{}
\DoxyCodeLine{02441\ \ \ \ \ \ \ \ \ aContext.mouse.buttons[i].justReleased\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02442\ \ \ \ \ \ \ \ \ aContext.mouse.buttons[i].justPressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02443\ \ \ \ \ \}}
\DoxyCodeLine{02444\ \ \ \ \ }
\DoxyCodeLine{02445\ \ \ \ \ internal::resetRenderingBuffer(internal::gScreen);}
\DoxyCodeLine{02446\ }
\DoxyCodeLine{02447\ \ \ \ \ \textcolor{comment}{//\ If\ we\ were\ told\ to\ keep\ track\ of\ the\ keyboard\ shortcuts,\ we}}
\DoxyCodeLine{02448\ \ \ \ \ \textcolor{comment}{//\ proceed\ to\ handle\ opencv\ event\ queue.}}
\DoxyCodeLine{02449\ \ \ \ \ \textcolor{keywordflow}{if}\ (internal::gDelayWaitKey\ >\ 0)\ \{}
\DoxyCodeLine{02450\ \ \ \ \ \ \ \ \ internal::gLastKeyPressed\ =\ cv::waitKey(internal::gDelayWaitKey);}
\DoxyCodeLine{02451\ \ \ \ \ \}}
\DoxyCodeLine{02452\ }
\DoxyCodeLine{02453\ \ \ \ \ \textcolor{keywordflow}{if}\ (!internal::blockStackEmpty())\ \{}
\DoxyCodeLine{02454\ \ \ \ \ \ \ \ \ internal::error(2,\ \textcolor{stringliteral}{"{}Calling\ update()\ before\ finishing\ all\ begin*()/end*()\ calls.\ Did\ you\ forget\ to\ call\ a\ begin*()\ or\ an\ end*()?\ Check\ if\ every\ begin*()\ has\ an\ appropriate\ end*()\ call\ before\ you\ call\ update()."{}});}
\DoxyCodeLine{02455\ \ \ \ \ \}}
\DoxyCodeLine{02456\ \}}
\DoxyCodeLine{02457\ }
\DoxyCodeLine{02458\ \textcolor{keywordtype}{void}\ handleMouse(\textcolor{keywordtype}{int}\ theEvent,\ \textcolor{keywordtype}{int}\ theX,\ \textcolor{keywordtype}{int}\ theY,\ \textcolor{keywordtype}{int}\ theFlags,\ \textcolor{keywordtype}{void}*\ theData)\ \{}
\DoxyCodeLine{02459\ \ \ \ \ \textcolor{keywordtype}{int}\ aButtons[3]\ =\ \{\ cvui::LEFT\_BUTTON,\ cvui::MIDDLE\_BUTTON,\ cvui::RIGHT\_BUTTON\ \};}
\DoxyCodeLine{02460\ \ \ \ \ \textcolor{keywordtype}{int}\ aEventsDown[3]\ =\ \{\ cv::EVENT\_LBUTTONDOWN,\ cv::EVENT\_MBUTTONDOWN,\ cv::EVENT\_RBUTTONDOWN\ \};}
\DoxyCodeLine{02461\ \ \ \ \ \textcolor{keywordtype}{int}\ aEventsUp[3]\ =\ \{\ cv::EVENT\_LBUTTONUP,\ cv::EVENT\_MBUTTONUP,\ cv::EVENT\_RBUTTONUP\ \};}
\DoxyCodeLine{02462\ \ \ \ \ }
\DoxyCodeLine{02463\ \ \ \ \ \mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}}\ *aContext\ =\ (\mbox{\hyperlink{structcvui_1_1cvui__context__t}{cvui\_context\_t}}\ *)theData;}
\DoxyCodeLine{02464\ \ \ \ \ }
\DoxyCodeLine{02465\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)\ \{}
\DoxyCodeLine{02466\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ aBtn\ =\ aButtons[i];}
\DoxyCodeLine{02467\ }
\DoxyCodeLine{02468\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (theEvent\ ==\ aEventsDown[i])\ \{}
\DoxyCodeLine{02469\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.anyButton.justPressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02470\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.anyButton.pressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02471\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.buttons[aBtn].justPressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02472\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.buttons[aBtn].pressed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02473\ }
\DoxyCodeLine{02474\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (theEvent\ ==\ aEventsUp[i])\ \{}
\DoxyCodeLine{02475\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.anyButton.justReleased\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02476\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.anyButton.pressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02477\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.buttons[aBtn].justReleased\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{02478\ \ \ \ \ \ \ \ \ \ \ \ \ aContext-\/>mouse.buttons[aBtn].pressed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{02479\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{02480\ \ \ \ \ \}}
\DoxyCodeLine{02481\ \ \ \ \ }
\DoxyCodeLine{02482\ \ \ \ \ aContext-\/>mouse.position.x\ =\ theX;}
\DoxyCodeLine{02483\ \ \ \ \ aContext-\/>mouse.position.y\ =\ theY;}
\DoxyCodeLine{02484\ \}}
\DoxyCodeLine{02485\ }
\DoxyCodeLine{02486\ \}\ \textcolor{comment}{//\ namespace\ cvui}}
\DoxyCodeLine{02487\ }
\DoxyCodeLine{02488\ \textcolor{comment}{//\ Final\ adjustments\ that\ are\ platform-\/dependent}}
\DoxyCodeLine{02489\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{02490\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ we\ salved\ the\ definitions\ of\ min\ and\ max,\ which\ could\ have}}
\DoxyCodeLine{02491\ \ \ \ \ \textcolor{comment}{//\ been\ defined\ by\ windows.h.\ If\ that\ is\ the\ case,\ we\ have\ undef'd}}
\DoxyCodeLine{02492\ \ \ \ \ \textcolor{comment}{//\ them\ at\ the\ begining\ of\ this\ file,\ so\ we\ need\ to\ restore\ the\ existing}}
\DoxyCodeLine{02493\ \ \ \ \ \textcolor{comment}{//\ macros\ now.\ We\ want\ to\ do\ good,\ not\ make\ world\ burn.\ You're\ welcome.}}
\DoxyCodeLine{02494\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ \_\_cvui\_min}}
\DoxyCodeLine{02495\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ min\ \_\_cvui\_min}}
\DoxyCodeLine{02496\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{02497\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ \_\_cvui\_max}}
\DoxyCodeLine{02498\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#define\ max\ \_\_cvui\_max}}
\DoxyCodeLine{02499\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{02500\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02501\ }
\DoxyCodeLine{02502\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ CVUI\_IMPLEMENTATION}}

\end{DoxyCode}
